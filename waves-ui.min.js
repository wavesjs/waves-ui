!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.wavesUI=e()}}(function(){var e;return function t(e,n,r){function i(a,u){if(!n[a]){if(!e[a]){var o="function"==typeof require&&require;if(!u&&o)return o(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){t.exports={core:{LayerTimeContext:e("./dist/core/layer-time-context"),Layer:e("./dist/core/layer"),namespace:e("./dist/core/namespace"),TimelineTimeContext:e("./dist/core/timeline-time-context"),Timeline:e("./dist/core/timeline"),TrackCollection:e("./dist/core/track-collection"),Track:e("./dist/core/track")},shapes:{AnnotatedMarker:e("./dist/shapes/annotated-marker"),AnnotatedSegment:e("./dist/shapes/annotated-segment"),BaseShape:e("./dist/shapes/base-shape"),Cursor:e("./dist/shapes/cursor"),Dot:e("./dist/shapes/dot"),Line:e("./dist/shapes/line"),Marker:e("./dist/shapes/marker"),Segment:e("./dist/shapes/segment"),TraceCommon:e("./dist/shapes/trace-common"),TraceDots:e("./dist/shapes/trace-dots"),Waveform:e("./dist/shapes/waveform")},behaviors:{BaseBehavior:e("./dist/behaviors/base-behavior"),BreakpointBehavior:e("./dist/behaviors/breakpoint-behavior"),MarkerBehavior:e("./dist/behaviors/marker-behavior"),SegmentBehavior:e("./dist/behaviors/segment-behavior"),TimeContextBehavior:e("./dist/behaviors/time-context-behavior"),TraceBehavior:e("./dist/behaviors/trace-behavior")},interactions:{EventSource:e("./dist/interactions/event-source"),Keyboard:e("./dist/interactions/keyboard"),Surface:e("./dist/interactions/surface"),WaveEvent:e("./dist/interactions/wave-event")},states:{BaseState:e("./dist/timeline-states/base-state"),BrushZoomState:e("./dist/timeline-states/brush-zoom-state"),CenteredZoomState:e("./dist/timeline-states/centered-zoom-state"),ContextEditionState:e("./dist/timeline-states/context-edition-state"),EditionState:e("./dist/timeline-states/edition-state"),SelectionState:e("./dist/timeline-states/selection-state")},helpers:{AnnotatedMarkerLayer:e("./dist/helpers/annotated-marker-layer"),CursorLayer:e("./dist/helpers/cursor-layer"),DotLayer:e("./dist/helpers/dot-layer"),MarkerLayer:e("./dist/helpers/marker-layer"),SegmentLayer:e("./dist/helpers/segment-layer"),WaveformLayer:e("./dist/helpers/waveform-layer")}}},{"./dist/behaviors/base-behavior":2,"./dist/behaviors/breakpoint-behavior":3,"./dist/behaviors/marker-behavior":4,"./dist/behaviors/segment-behavior":5,"./dist/behaviors/time-context-behavior":6,"./dist/behaviors/trace-behavior":7,"./dist/core/layer":9,"./dist/core/layer-time-context":8,"./dist/core/namespace":10,"./dist/core/timeline":12,"./dist/core/timeline-time-context":11,"./dist/core/track":14,"./dist/core/track-collection":13,"./dist/helpers/annotated-marker-layer":15,"./dist/helpers/cursor-layer":16,"./dist/helpers/dot-layer":17,"./dist/helpers/marker-layer":18,"./dist/helpers/segment-layer":19,"./dist/helpers/waveform-layer":20,"./dist/interactions/event-source":21,"./dist/interactions/keyboard":22,"./dist/interactions/surface":23,"./dist/interactions/wave-event":24,"./dist/shapes/annotated-marker":25,"./dist/shapes/annotated-segment":26,"./dist/shapes/base-shape":27,"./dist/shapes/cursor":28,"./dist/shapes/dot":29,"./dist/shapes/line":30,"./dist/shapes/marker":31,"./dist/shapes/segment":32,"./dist/shapes/trace-common":33,"./dist/shapes/trace-dots":34,"./dist/shapes/waveform":35,"./dist/timeline-states/base-state":36,"./dist/timeline-states/brush-zoom-state":37,"./dist/timeline-states/centered-zoom-state":38,"./dist/timeline-states/context-edition-state":39,"./dist/timeline-states/edition-state":40,"./dist/timeline-states/selection-state":41}],2:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/to-consumable-array")["default"],a=e("babel-runtime/core-js")["default"],u=function(){function e(){var t=void 0===arguments[0]?{}:arguments[0];r(this,e),this._selectedItems=new a.Set,this._selectedClass=t.selectedClass||"selected",this._layer=null,this._params=a.Object.assign({},this.getDefaults(),t)}return i(e,{initialize:{value:function(e){this._layer=e}},destroy:{value:function(){}},getDefaults:{value:function(){return{}}},selectedClass:{set:function(e){this._selectedClass=e},get:function(){return this._selectedClass}},selectedItems:{get:function(){return[].concat(s(this._selectedItems))}},select:{value:function(e,t){e.classList.add(this.selectedClass),this._selectedItems.add(e)}},unselect:{value:function(e,t){e.classList.remove(this.selectedClass),this._selectedItems["delete"](e)}},toggleSelection:{value:function(e,t){var n=this._selectedItems.has(e)?"unselect":"select";this[n](e)}},edit:{value:function(e,t,n,r,i,s){}}}),e}();t.exports=u},{"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/to-consumable-array":49}],3:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("./base-behavior")),o=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),s(t,{edit:{value:function(e,t,n,r,i,s){var a=this._layer.data,u=e.height,o=e.timeToPixel(t.cx(n)),l=e.valueToPixel(t.cy(n)),c=o+r,h=l-i;if(a.length>2){var f=a.map(function(n){return e.timeToPixel(t.cx(n))});f.sort(function(e,t){return t>e?-1:1});var m=f.indexOf(o);(c<f[m-1]||c>f[m+1])&&(c=o)}0>h?h=0:h>u&&(h=u),t.cx(n,e.timeToPixel.invert(c)),t.cy(n,e.valueToPixel.invert(h))}}}),t}(u);t.exports=o},{"./base-behavior":2,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],4:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("./base-behavior")),o=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),s(t,{edit:{value:function(e,t,n,r,i,s){var a=e.timeToPixel(t.x(n)),u=a+r>0?a+r:0;t.x(n,e.timeToPixel.invert(u))}}}),t}(u);t.exports=o},{"./base-behavior":2,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],5:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("./base-behavior")),o=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),s(t,{edit:{value:function(e,t,n,r,i,s){var a=s.classList,u="move";a.contains("handler")&&a.contains("left")?u="resizeLeft":a.contains("handler")&&a.contains("right")&&(u="resizeRight"),this["_"+u](e,t,n,r,i,s)}},_move:{value:function(e,t,n,r,i,s){var a=e.height,u=e.timeToPixel(t.x(n)),o=e.valueToPixel(t.y(n)),l=e.valueToPixel(t.height(n)),c=Math.max(u+r,0),h=o-i;0>h?h=0:h+l>a&&(h=a-l),t.x(n,e.timeToPixel.invert(c)),t.y(n,e.valueToPixel.invert(h))}},_resizeLeft:{value:function(e,t,n,r,i,s){var a=e.timeToPixel(t.x(n)),u=e.timeToPixel(t.width(n)),o=a+u,l=o>a+r?Math.max(a+r,0):a,c=0!==l?Math.max(u-r,1):u;t.x(n,e.timeToPixel.invert(l)),t.width(n,e.timeToPixel.invert(c))}},_resizeRight:{value:function(e,t,n,r,i,s){var a=e.timeToPixel(t.width(n)),u=Math.max(a+r,1);t.width(n,e.timeToPixel.invert(u))}}}),t}(u);t.exports=o},{"./base-behavior":2,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],6:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/create-class")["default"],s=function(){function e(){r(this,e)}return i(e,{edit:{value:function(e,t,n,r){var i=e.timeContext;r.classList.contains("handler")&&r.classList.contains("left")?this._editLeft(i,t):r.classList.contains("handler")&&r.classList.contains("right")?this._editRight(i,t):r.classList.contains("segment")&&this._move(i,t)}},_editLeft:{value:function(e,t){var n=e.parent.timeToPixel(e.start),r=e.timeToPixel(e.offset),i=e.timeToPixel(e.duration),s=n+t,a=r-t,u=Math.max(i-t,1);e.start=e.parent.timeToPixel.invert(s),e.offset=e.timeToPixel.invert(a),e.duration=e.timeToPixel.invert(u)}},_editRight:{value:function(e,t){var n=e.timeToPixel(e.duration),r=Math.max(n+t,1);e.duration=e.timeToPixel.invert(r)}},_move:{value:function(e,t){var n=e.parent.timeToPixel(e.start),r=Math.max(n+t,0);e.start=e.parent.timeToPixel.invert(r)}},stretch:{value:function(e,t,n,r){var i=e.timeContext,s=i.duration,a=i.offset;this.edit(e,t,n,r);var u=i.duration,o=u/s;i.stretchRatio*=o,i.offset=a,i.duration=s}}}),e}();t.exports=s},{"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44}],7:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("./base-behavior")),o=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),s(t,{edit:{value:function(e,t,n,r,i,s){s.classList.contains("mean")?this._editMean(e,t,n,r,i):s.classList.contains("min")?this._editRange(e,t,n,r,i,"min"):s.classList.contains("max")&&this._editRange(e,t,n,r,i,"max")}},_editMean:{value:function(e,t,n,r,i){var s=e.timeToPixel(t.x(n)),a=e.valueToPixel(t.mean(n)),u=s+r,o=a-i;t.x(n,e.timeToPixel.invert(u)),t.mean(n,e.valueToPixel.invert(o))}},_editRange:{value:function(e,t,n,r,i,s){var a=e.valueToPixel(t.range(n)),u="min"===s?a+2*i:a-2*i;u=Math.max(u,0),t.range(n,e.valueToPixel.invert(u))}}}),t}(u);t.exports=o},{"./base-behavior":2,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],8:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/interop-require")["default"],a=s(e("d3-scale")),u=function(){function e(t){if(r(this,e),!t)throw new Error("LayerTimeContext must have a parent");this.parent=t,this._timeToPixel=null,this._start=0,this._duration=t.visibleDuration,this._offset=0,this._stretchRatio=1,this.parent._children.push(this)}return i(e,{clone:{value:function(){var e=new this;return e.parent=this.parent,e.start=this.start,e.duration=this.duration,e.offset=this.offset,e.stretchRatio=this.stretchRatio,e}},start:{get:function(){return this._start},set:function(e){this._start=e}},duration:{get:function(){return this._duration},set:function(e){this._duration=e}},offset:{get:function(){return this._offset},set:function(e){this._offset=e}},stretchRatio:{get:function(){return this._stretchRatio},set:function(e){if(1===e)return void(this._timeToPixel=null);var t=this._timeToPixel?this._timeToPixel:a.linear().domain([0,1]);t.range([0,this.parent.computedPixelsPerSecond*e]),this._timeToPixel=t,this._stretchRatio=e}},timeToPixel:{get:function(){return this._timeToPixel?this._timeToPixel:this.parent.timeToPixel}}}),e}();t.exports=u},{"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/interop-require":48,"d3-scale":53}],9:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("d3-scale")),c=o(e("d3-selection")),h=o(e("events")),f=o(e("./namespace")),m=o(e("../shapes/segment")),p=o(e("../behaviors/time-context-behavior")),d=null,b=p,v=0,g=new u.Map,y=function(e){function t(e,n){var i=void 0===arguments[2]?{}:arguments[2];r(this,t),s(u.Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.dataType=e,this.data=n;var a={height:100,top:0,id:"",yDomain:[0,1],opacity:1,debugContext:!1,contextHandlerWidth:2};this.params=u.Object.assign({},a,i),this.timeContext=null,this.$el=null,this.$boundingBox=null,this.$offset=null,this.$interactions=null,this.d3items=null,this._shapeConfiguration=null,this._commonShapeConfiguration=null,this._$itemShapeMap=new u.Map,this._$itemD3SelectionMap=new u.Map,this._$itemCommonShapeMap=new u.Map,this._isContextEditable=!1,this._behavior=null,this._valueToPixel=l.linear().domain(this.params.yDomain).range([0,this.params.height]),this.contextBehavior="",this._renderContainer(),null===d&&(d=new b)}return i(t,e),a(t,{start:{get:function(){return this.timeContext.start},set:function(e){this.timeContext.start=e}},offset:{get:function(){return this.timeContext.offset},set:function(e){this.timeContext.offset=e}},duration:{get:function(){return this.timeContext.duration},set:function(e){this.timeContext.duration=e}},stretchRatio:{get:function(){return this.timeContext.stretchRatio},set:function(e){this.timeContext.stretchRatio=e}},yDomain:{set:function(e){this.params.yDomain=e,this._valueToPixel.domain(e)},get:function(){return this.params.yDomain}},opacity:{set:function(e){this.params.opacity=e},get:function(){return this.params.opacity}},setTimeContext:{value:function(e){this.timeContext=e,this._renderingContext={},this._updateRenderingContext()}},data:{get:function(){return this._data},set:function(e){switch(this.dataType){case"entity":this._data?this._data[0]=e:this._data=[e];break;case"collection":this._data=e}}},_renderContainer:{value:function(){var e=this;this.$el=document.createElementNS(f,"g"),this.$el.classList.add("layer"),this.$boundingBox=document.createElementNS(f,"svg"),this.$boundingBox.classList.add("bounding-box"),this.$offset=document.createElementNS(f,"g"),this.$offset.classList.add("offset","items"),this.$background=document.createElementNS(f,"rect"),this.$background.setAttributeNS(null,"height","100%"),this.$background.setAttributeNS(null,"width","100%"),this.$background.classList.add("background"),this.$background.style.fillOpacity=0,this.$background.style.pointerEvents="none",this.$interactions=document.createElementNS(f,"g"),this.$interactions.classList.add("interactions"),this.$interactions.style.display="none",this.contextShape=new m,this.contextShape.install({opacity:function(){return.1},color:function(){return"#787878"},width:function(){return e.timeContext.duration},height:function(){return e._renderingContext.valueToPixel.domain()[1]},y:function(){return e._renderingContext.valueToPixel.domain()[0]}}),this.$interactions.appendChild(this.contextShape.render()),this.$el.appendChild(this.$boundingBox),this.$boundingBox.appendChild(this.$offset),this.$offset.appendChild(this.$background),this.$boundingBox.appendChild(this.$interactions),this.params.debug&&(this.$debugRect=document.createElementNS(f,"Segment"),this.$boundingBox.appendChild(this.$debugRect),this.$debugRect.style.fill="#ababab",this.$debugRect.style.fillOpacity=.1)}},configureShape:{value:function(e){var t=void 0===arguments[1]?{}:arguments[1],n=void 0===arguments[2]?{}:arguments[2];this._shapeConfiguration={ctor:e,accessors:t,options:n}}},configureCommonShape:{value:function(e){var t=void 0===arguments[1]?{}:arguments[1],n=void 0===arguments[2]?{}:arguments[2];this._commonShapeConfiguration={ctor:e,accessors:t,options:n}}},setBehavior:{value:function(e){e.initialize(this),this._behavior=e}},_updateRenderingContext:{value:function(){this._renderingContext.timeToPixel=this.timeContext.timeToPixel,this._renderingContext.valueToPixel=this._valueToPixel,this._renderingContext.height=this.params.height,this._renderingContext.width=this.timeContext.timeToPixel(this.timeContext.duration),this._renderingContext.offsetX=this.timeContext.timeToPixel(this.timeContext.offset)}},selectedItems:{get:function(){return this._behavior?this._behavior.selectedItems:[]}},select:{value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];this._behavior&&(n.length||(n=this.d3items.nodes()),n.forEach(function(t){var n=e._$itemD3SelectionMap.get(t);e._behavior.select(t,n.datum()),e._toFront(t)}))}},unselect:{value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];this._behavior&&(n.length||(n=this.d3items.nodes()),n.forEach(function(t){var n=e._$itemD3SelectionMap.get(t);e._behavior.unselect(t,n.datum())}))}},toggleS$election:{value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];this._behavior&&(n.length||(n=this.d3items.nodes()),n.forEach(function(t){var n=e._$itemD3SelectionMap.get(t);e._behavior.toggleS$election(t,n.datum())}))}},edit:{value:function(e,t,n,r){var i=this;this._behavior&&(e=Array.isArray(e)?e:[e],e.forEach(function(e){var s=i._$itemD3SelectionMap.get(e),a=i._$itemShapeMap.get(e),u=s.datum();i._behavior.edit(i._renderingContext,a,u,t,n,r),i.emit("edit",a,u)}))}},setContextEditable:{value:function(){var e=void 0===arguments[0]?!0:arguments[0],t=e?"block":"none";this.$interactions.style.display=t,this._isContextEditable=e}},editContext:{value:function(e,t,n){d.edit(this,e,t,n)}},stretchContext:{value:function(e,t,n){d.stretch(this,e,t,n)}},_toFront:{value:function(e){this.$offset.appendChild(e)}},getItemFromDOMElement:{value:function(e){var t=void 0;do{if(e.classList&&e.classList.contains("item")){t=e;break}e=e.parentNode}while(null!==e);return this.hasItem(t)?t:null}},getDatumFromItem:{value:function(e){var t=this._$itemD3SelectionMap.get(e);return t?t.datum():null}},hasItem:{value:function(e){var t=this.d3items.nodes();return-1!==t.indexOf(e)}},hasElement:{value:function(e){do{if(e===this.$el)return!0;e=e.parentNode}while(null!==e);return!1}},getItemsInArea:{value:function(e){var t=this.timeContext.timeToPixel(this.timeContext.start),n=this.timeContext.timeToPixel(this.timeContext.duration),r=this.timeContext.timeToPixel(this.timeContext.offset),i=(this.params.top,Math.max(e.left,t)),s=Math.min(e.left+e.width,t+n);i-=t+r,s-=t+r;var a=this.params.height-(e.top+e.height),u=this.params.height-e.top;a+=this.params.top,u+=this.params.top;var o=this._$itemShapeMap,l=this._renderingContext,c=this.d3items.filter(function(e,t){var n=this,r=o.get(n);return r.inArea(l,e,i,a,s,u)});return c[0].slice(0)}},render:{value:function(){var e=this;if(this.data.forEach(function(e){g.has(e)||g.set(e,v++)}),this.d3items=c.select(this.$offset).selectAll(".item").filter(function(){return!this.classList.contains("common")}).data(this.data,function(e){return g.get(e)}),null!==this._commonShapeConfiguration&&0===this._$itemCommonShapeMap.size){var t=this._commonShapeConfiguration,n=t.ctor,r=t.accessors,i=t.options,s=document.createElementNS(f,"g"),a=new n(i);a.install(r),s.appendChild(a.render()),s.classList.add("item","common",a.getClassName()),this._$itemCommonShapeMap.set(s,a),this.$offset.appendChild(s)}this.d3items.enter().append(function(t,n){var r=e._shapeConfiguration,i=r.ctor,s=r.accessors,a=r.options,u=new i(a);u.install(s);var o=u.render(e._renderingContext);return o.classList.add("item",u.getClassName()),e._$itemShapeMap.set(o,u),e._$itemD3SelectionMap.set(o,c.select(o)),o});var u=this._$itemShapeMap,o=this._$itemD3SelectionMap;this.d3items.exit().each(function(e,t){var n=this,r=u.get(n);r.destroy(),g["delete"](e),u["delete"](n),o["delete"](n)}).remove()}},update:{value:function(){this.updateContainer(),this.updateShapes()}},updateContainer:{value:function(){this._updateRenderingContext();var e=this.timeContext,t=e.timeToPixel(e.duration),n=e.parent.timeToPixel(e.start),r=e.timeToPixel(e.offset),i=this.params.top,s=this.params.height,a="matrix(1, 0, 0, -1, "+n+", "+(i+s)+")";this.$el.setAttributeNS(null,"transform",a),this.$boundingBox.setAttributeNS(null,"width",t),this.$boundingBox.setAttributeNS(null,"height",s),this.$boundingBox.style.opacity=this.params.opacity,this.$offset.setAttributeNS(null,"transform","translate("+r+", 0)"),this.contextShape.update(this._renderingContext,this.$interactions,this.timeContext,0),this.params.debug&&(this.$debugRect.setAttributeNS(null,"width",t),this.$debugRect.setAttributeNS(null,"height",s))}},updateShapes:{value:function(){var e=this,t=void 0===arguments[0]?null:arguments[0];this._updateRenderingContext();var n=this,r=this._renderingContext,i=null!==t?this._$itemD3SelectionMap.get(t):this.d3items;this._$itemCommonShapeMap.forEach(function(t,n){t.update(r,e.data)}),i.each(function(e,t){var i=n._$itemShapeMap.get(this);i.update(r,e,t)})}}},{configureTimeContextBehavior:{value:function(e){b=e}}}),t}(h.EventEmitter);t.exports=y},{"../behaviors/time-context-behavior":6,"../shapes/segment":32,"./namespace":10,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48,"d3-scale":53,"d3-selection":54,events:52}],10:[function(e,t,n){"use strict";t.exports="http://www.w3.org/2000/svg"},{}],11:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/interop-require")["default"],a=s(e("d3-scale")),u=function(){function e(t,n){r(this,e),this._children=[],this._timeToPixel=null,this._offset=0,this._zoom=1,this._computedPixelsPerSecond=t,this._visibleWidth=n,this._visibleDuration=this.visibleWidth/this._computedPixelsPerSecond,this._maintainVisibleDuration=!1;var i=a.linear().domain([0,1]).range([0,t]);this.timeToPixel=i,this._originalPixelsPerSecond=this._computedPixelsPerSecond}return i(e,{pixelsPerSecond:{get:function(){return this._originalPixelsPerSecond},set:function(e){this._computedPixelsPerSecond=e*this.zoom,this._originalPixelsPerSecond=e,this._updateTimeToPixelRange(),this._children.forEach(function(e){e._timeToPixel&&(e.stretchRatio=e.stretchRatio)})}},computedPixelsPerSecond:{get:function(){return this._computedPixelsPerSecond}},offset:{get:function(){return this._offset},set:function(e){this._offset=e}},zoom:{get:function(){return this._zoom},set:function(e){var t=e/this._zoom;this._zoom=e,this._computedPixelsPerSecond=this._originalPixelsPerSecond*e,this._updateTimeToPixelRange(),this._children.forEach(function(e){e._timeToPixel&&(e.stretchRatio=e.stretchRatio*t)})}},visibleWidth:{get:function(){return this._visibleWidth},set:function(e){var t=e/this.visibleWidth;this._visibleWidth=e,this._visibleDuration=this.visibleWidth/this._computedPixelsPerSecond,this.maintainVisibleDuration&&(this.pixelsPerSecond=this._computedPixelsPerSecond*t)}},visibleDuration:{get:function(){return this._visibleDuration}},maintainVisibleDuration:{get:function(){return this._maintainVisibleDuration},set:function(e){this._maintainVisibleDuration=e}},timeToPixel:{get:function(){return this._timeToPixel},set:function(e){this._timeToPixel=e}},_updateTimeToPixelRange:{value:function(){this._visibleDuration=this.visibleWidth/this._computedPixelsPerSecond,this.timeToPixel.range([0,this._computedPixelsPerSecond])}}}),e}();t.exports=u},{"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/interop-require":48,"d3-scale":53}],12:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-computed-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/regenerator")["default"],l=e("babel-runtime/helpers/interop-require")["default"],c=l(e("events")),h=l(e("../interactions/keyboard")),f=l(e("./layer-time-context")),m=l(e("../interactions/surface")),p=l(e("./timeline-time-context")),d=l(e("./track")),b=l(e("./track-collection")),v=function(e){function t(){var e=void 0===arguments[0]?100:arguments[0],n=void 0===arguments[1]?1e3:arguments[1];r(this,t),s(u.Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._tracks=new b(this),this._state=null,this._surfaceCtor=m,this.createInteraction(h,"body"),this._trackById={},this._groupedLayers={},this.timeContext=new p(e,n)}return i(t,e),a(t,[{key:"offset",get:function(){return this.timeContext.offset},set:function(e){this.timeContext.offset=e}},{key:"zoom",get:function(){return this.timeContext.zoom},set:function(e){this.timeContext.zoom=e}},{key:"pixelsPerSecond",get:function(){return this.timeContext.pixelsPerSecond},set:function(e){this.timeContext.pixelsPerSecond=e}},{key:"visibleWidth",get:function(){return this.timeContext.visibleWidth},set:function(e){this.timeContext.visibleWidth=e}},{key:"timeToPixel",get:function(){return this.timeContext.timeToPixel}},{key:"visibleDuration",get:function(){return this.timeContext.visibleDuration}},{key:"maintainVisibleDuration",set:function(e){this.timeContext.maintainVisibleDuration=e},get:function(){return this.timeContext.maintainVisibleDuration}},{key:"groupedLayers",get:function(){return this._groupedLayers}},{key:"configureSurface",value:function(e){this._surfaceCtor=e}},{key:"createInteraction",value:function(e,t){var n=this,r=void 0===arguments[2]?{}:arguments[2],i=new e(t,r);i.on("event",function(e){return n._handleEvent(e)})}},{key:"_handleEvent",value:function(e){this.emit("event",e),this._state&&this._state.handleEvent(e)}},{key:"state",set:function(e){this._state&&this._state.exit(),this._state=e,this._state.enter()},get:function(){return this._state}},{key:"tracks",get:function(){return this._tracks}},{key:"layers",get:function(){return this._tracks.layers}},{key:"add",value:function(e){if(-1!==this.tracks.indexOf(e))throw new Error("track already added to the timeline");e.configure(this.timeContext),this.tracks.push(e),this.createInteraction(this._surfaceCtor,e.$el)}},{key:"remove",value:function(e){}},{key:"createTrack",value:function(e){var t=void 0===arguments[1]?100:arguments[1],n=void 0===arguments[2]?null:arguments[2],r=new d(e,t);if(null!==n){if(void 0!==this._trackById[n])throw new Error('trackId: "'+n+'" is already used');this._trackById[n]=r}return this.add(r),r.render(),r.update(),r}},{key:"addLayer",value:function(e,t){var n=void 0===arguments[2]?"default":arguments[2],r=t;if("string"==typeof t&&(r=this.getTrackById(t)),!e.timeContext){var i=new f(this.timeContext);e.setTimeContext(i)}r.add(e),this._groupedLayers[n]||(this._groupedLayers[n]=[]),this._groupedLayers[n].push(e),e.render(),e.update()}},{key:"removeLayer",value:function(e){this.tracks.forEach(function(t){var n=t.layers.indexOf(e);-1!==n&&t.remove(e)});for(var t in this._groupedLayers){var n=this._groupedLayers[t],r=n.indexOf(e);-1!==r&&n.splice(e,1),n.length||delete this._groupedLayers[t]}}},{key:"getTrackById",value:function(e){return this._trackById[e]}},{key:"getLayersByGroup",value:function(e){return this._groupedLayers[e]}},{key:u.Symbol.iterator,value:o.mark(function n(){var e=this;return o.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(u.$for.getIterator(e.tracks),"t0",1);case 1:case"end":return t.stop()}},n,this)})}]),t}(c.EventEmitter);t.exports=v},{"../interactions/keyboard":22,"../interactions/surface":23,"./layer-time-context":8,"./timeline-time-context":11,"./track":14,"./track-collection":13,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-computed-class":45,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48,"babel-runtime/regenerator":50,events:52}],13:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("./layer")),c=function(e){function t(e){r(this,t),s(u.Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._timeline=e}return i(t,e),a(t,{_getLayersOrGroups:{value:function(){var e=void 0===arguments[0]?null:arguments[0],t=null;return t="string"==typeof e?this._timeline.groupedLayers[e]:e instanceof l?[e]:this.layers}},height:{set:function(e){this.forEach(function(t){return t.height=e})}},layers:{get:function(){var e=[];return this.forEach(function(t){return e=e.concat(t.layers)}),e}},render:{value:function(){this.forEach(function(e){return e.render()}),this._timeline.emit("render")}},update:{value:function(e){var t=this._getLayersOrGroups(e);this.forEach(function(e){return e.update(t)}),this._timeline.emit("update",t)}},updateContainer:{value:function(e){this.forEach(function(e){return e.updateContainer()}),this._timeline.emit("update:containers")}},updateLayers:{value:function(e){var t=this._getLayersOrGroups(e);this.forEach(function(e){return e.updateLayers(t)}),this._timeline.emit("update:layers",t)}}}),t}(Array);t.exports=c},{"./layer":9,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],14:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/create-computed-class")["default"],s=e("babel-runtime/core-js")["default"],a=e("babel-runtime/regenerator")["default"],u=e("babel-runtime/helpers/interop-require")["default"],o=(u(e("d3-scale")),u(e("./namespace"))),l=function(){function e(t){var n=void 0===arguments[1]?100:arguments[1];r(this,e),this.$el=t,this.layers=[],this._height=n,this.renderingContext=null,this._createContainer()}return i(e,[{key:"height",get:function(){return this._height},set:function(e){this._height=e}},{key:"configure",value:function(e){this.renderingContext=e}},{key:"destroy",value:function(){var e=this;this.$el.removeChild(this.$svg),this.layers.forEach(function(t){return e.$layout.removeChild(t.$el)}),this.$el=null,this.renderingContext=null,this.layers.length=0}},{key:"_createContainer",value:function(){var e=document.createElementNS(o,"svg");e.setAttributeNS(null,"shape-rendering","optimizeSpeed"),e.setAttributeNS(null,"height",this.height),e.setAttribute("xmlns:xhtml","http://www.w3.org/1999/xhtml");var t=document.createElementNS(o,"rect");t.setAttributeNS(null,"height","100%"),t.setAttributeNS(null,"width","100%"),t.setAttributeNS(null,"style","fill-opacity:0");var n=document.createElementNS(o,"defs"),r=document.createElementNS(o,"g");r.classList.add("offset");var i=document.createElementNS(o,"g");i.classList.add("layout");var s=document.createElementNS(o,"g");s.classList.add("interactions"),e.appendChild(n),e.appendChild(t),r.appendChild(i),e.appendChild(r),e.appendChild(s),this.$el.appendChild(e),this.$el.style.fontSize=0,this.$el.style.transform="translateZ(0)",this.$layout=i,this.$offset=r,this.$interactions=s,this.$svg=e,this.$background=t}},{key:"add",value:function(e){this.layers.push(e),this.$layout.appendChild(e.$el)}},{key:"remove",value:function(e){this.layers.splice(this.layers.indexOf(e),1),
this.$layout.removeChild(e.$el)}},{key:"render",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=s.$for.getIterator(this);!(e=(r=i.next()).done);e=!0){var a=r.value;a.render()}}catch(u){t=!0,n=u}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw n}}}},{key:"update",value:function(){var e=void 0===arguments[0]?null:arguments[0];this.updateContainer(),this.updateLayers(e)}},{key:"updateContainer",value:function(){var e=this.$svg,t=this.$offset,n=this.renderingContext,r=this.height,i=n.visibleWidth,s=n.timeToPixel(n.offset),a="translate("+s+", 0)";e.setAttributeNS(null,"height",r),e.setAttributeNS(null,"width",i),e.setAttributeNS(null,"viewbox","0 0 "+i+" "+r),t.setAttributeNS(null,"transform",a)}},{key:"updateLayers",value:function(){var e=this,t=void 0===arguments[0]?null:arguments[0];t=null===t?this.layers:t,t.forEach(function(t){-1!==e.layers.indexOf(t)&&t.update()})}},{key:s.Symbol.iterator,value:a.mark(function t(){var e=this;return a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(s.$for.getIterator(e.layers),"t1",1);case 1:case"end":return t.stop()}},t,this)})}]),e}();t.exports=l},{"./namespace":10,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-computed-class":45,"babel-runtime/helpers/interop-require":48,"babel-runtime/regenerator":50,"d3-scale":53}],15:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/core-js")["default"],u=e("babel-runtime/helpers/interop-require")["default"],o=u(e("../shapes/annotated-marker")),l=u(e("../core/layer")),c=u(e("../behaviors/marker-behavior")),h=function(e){function t(e){var n=void 0===arguments[1]?{}:arguments[1];r(this,t),s(a.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,n),this.configureShape(o),this.setBehavior(new c)}return i(t,e),t}(l);t.exports=h},{"../behaviors/marker-behavior":4,"../core/layer":9,"../shapes/annotated-marker":25,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],16:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("../core/layer")),c=o(e("../shapes/cursor")),h=function(e){function t(){var e=void 0===arguments[0]?{}:arguments[0];r(this,t);var n={currentPosition:0};s(u.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",n,e),this.configureShape(c,{x:function(e){return e.currentPosition}},{color:e.color})}return i(t,e),a(t,{currentPosition:{set:function(e){this.data.currentPosition=e},get:function(){return this.data.currentPosition}}}),t}(l);t.exports=h},{"../core/layer":9,"../shapes/cursor":28,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],17:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/core-js")["default"],u=e("babel-runtime/helpers/interop-require")["default"],o=u(e("../behaviors/breakpoint-behavior")),l=u(e("../shapes/dot")),c=u(e("../core/layer")),h=function(e){function t(e){var n=void 0===arguments[1]?{}:arguments[1];r(this,t),s(a.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,n),this.configureShape(l),this.setBehavior(new o)}return i(t,e),t}(c);t.exports=h},{"../behaviors/breakpoint-behavior":3,"../core/layer":9,"../shapes/dot":29,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],18:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/core-js")["default"],u=e("babel-runtime/helpers/interop-require")["default"],o=u(e("../core/layer")),l=u(e("../shapes/marker")),c=u(e("../behaviors/marker-behavior")),h=function(e){function t(e){var n=void 0===arguments[1]?{}:arguments[1];r(this,t),s(a.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,n),this.configureShape(l,{},{displayHandler:n.displayHandler}),this.setBehavior(new c)}return i(t,e),t}(o);t.exports=h},{"../behaviors/marker-behavior":4,"../core/layer":9,"../shapes/marker":31,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],19:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/core-js")["default"],u=e("babel-runtime/helpers/interop-require")["default"],o=u(e("../core/layer")),l=u(e("../shapes/segment")),c=u(e("../behaviors/segment-behavior")),h=function(e){function t(e){var n=void 0===arguments[1]?{}:arguments[1];r(this,t),s(a.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,n),this.configureShape(l,{},{displayHandlers:n.displayHandlers}),this.setBehavior(new c)}return i(t,e),t}(o);t.exports=h},{"../behaviors/segment-behavior":5,"../core/layer":9,"../shapes/segment":32,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],20:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/core-js")["default"],u=e("babel-runtime/helpers/interop-require")["default"],o=u(e("../core/layer")),l=u(e("../shapes/waveform")),c={yDomain:[-1,1],channel:0,color:"steelblue"},h=function(e){function t(e,n){r(this,t),n=a.Object.assign({},c,n),s(a.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",e.getChannelData(n.channel),n),this.configureShape(l,{y:function(e){var t=void 0===arguments[1]?null:arguments[1];return null!==t&&(e=t),e}},{sampleRate:e.sampleRate,color:n.color})}return i(t,e),t}(o);t.exports=h},{"../core/layer":9,"../shapes/waveform":35,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],21:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("events")),c=function(e){function t(e){r(this,t),s(u.Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.el=e,this._bindEvents()}return i(t,e),a(t,{_createEvent:{value:function(e,t){}},_bindEvents:{value:function(){}}}),t}(l.EventEmitter);t.exports=c},{"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48,events:52}],22:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("./event-source")),c=o(e("./wave-event")),h=window.document.body,f=function(e){function t(){void 0===arguments[0]?h:arguments[0];r(this,t),s(u.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,h)}return i(t,e),a(t,{_createEvent:{value:function(e,t){var n=new c(e,t);return n.shiftKey=t.shiftKey,n.ctrlKey=t.ctrlKey,n.altKey=t.altKey,n.metaKey=t.metaKey,n["char"]=String.fromCharCode(t.keyCode),n}},_bindEvents:{value:function(){var e=this,t=function(t){var n=e._createEvent("keydown",t);e.emit("event",n)},n=function(t){var n=e._createEvent("keyup",t);e.emit("event",n)};this.el.onkeydown=t,this.el.onkeyup=n}}}),t}(l);t.exports=f},{"./event-source":21,"./wave-event":24,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],23:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("./event-source")),c=o(e("./wave-event")),h=window.document.body,f=function(e){function t(e){r(this,t),s(u.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.mouseDownEvent=null,this.lastEvent=null}return i(t,e),a(t,{_createEvent:{value:function(e,t){var n=new c(e,t),r=this._getRelativePosition(t);return n.x=r.x,n.y=r.y,n}},_getRelativePosition:{value:function(e){var t=0,n=0,r=this.el.getBoundingClientRect(),i=h.scrollLeft+document.documentElement.scrollLeft,s=h.scrollTop+document.documentElement.scrollTop;return e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+i,n=e.clientY+s),t-=r.left+i,n-=r.top+s,{x:t,y:n}}},_bindEvents:{value:function(){var e=this,t=function(t){window.getSelection().removeAllRanges();var i=e._createEvent("mousedown",t);e.isMouseDown=!0,e.mouseDownEvent=i,e.lastEvent=i,window.addEventListener("mousemove",n,!1),window.addEventListener("mouseup",r,!1),e.emit("event",i)},n=function(t){var n=e._createEvent("mousemove",t);n.defineArea(e.mouseDownEvent,e.lastEvent),e.lastEvent=n,e.emit("event",n)},r=function(t){var i=e._createEvent("mouseup",t);i.defineArea(e.mouseDownEvent,e.lastEvent),e.isMouseDown=!1,e.mouseDownEvent=null,e.lastEvent=null,window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r),e.emit("event",i)},i=function(t){var n=e._createEvent("click",t);e.emit("event",n)},s=function(t){var n=e._createEvent("dblclick",t);e.emit("event",n)};this.el.addEventListener("mousedown",t,!1),this.el.addEventListener("click",i,!1),this.el.addEventListener("dblclick",s,!1)}}}),t}(l);t.exports=f},{"./event-source":21,"./wave-event":24,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],24:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/create-class")["default"],s=function(){function e(t,n){r(this,e),this.type=t,this.target=n.target,this.currentTarget=n.currentTarget,this.originalEvent=n,this.x=null,this.y=null,this.dx=null,this.dy=null,this.area=null}return i(e,{defineArea:{value:function(e,t){if(e&&t){this.dx=this.x-t.x,this.dy=this.y-t.y;var n=e.x<this.x?e.x:this.x,r=e.y<this.y?e.y:this.y,i=Math.abs(Math.round(this.x-e.x)),s=Math.abs(Math.round(this.y-e.y));this.area={left:n,top:r,width:i,height:s}}}}}),e}();t.exports=s},{"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44}],25:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("./marker")),c=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,{getClassName:{value:function(){return"annotated-marker"}},_getAccessorList:{value:function(){var e=s(u.Object.getPrototypeOf(t.prototype),"_getAccessorList",this).call(this);return e.text="default",e}},render:{value:function(e){this.$el=s(u.Object.getPrototypeOf(t.prototype),"render",this).call(this,e);var n=e.height;return this.$label=document.createElementNS(this.ns,"text"),this.$label.setAttributeNS(null,"x",10),this.$label.setAttributeNS(null,"y",10),this.$label.setAttributeNS(null,"transform","matrix(1, 0, 0, -1, 0, "+n+")"),this.$label.style.fontSize="10px",this.$label.style.fontFamily="monospace",this.$label.style.color="#676767",this.$label.style.mozUserSelect="none",this.$label.style.webkitUserSelect="none",this.$label.style.userSelect="none",this.$el.appendChild(this.$label),this.$el}},update:{value:function(e,n,r){s(u.Object.getPrototypeOf(t.prototype),"update",this).call(this,e,n,r),this.$label.innerHTML=this.text(n)}}}),t}(l);t.exports=c},{"./marker":31,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],26:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("./segment")),c=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,{getClassName:{value:function(){return"annotated-segment"}},_getAccessorList:{value:function(){var e=s(u.Object.getPrototypeOf(t.prototype),"_getAccessorList",this).call(this);return e.text="default",e}},render:{value:function(e){this.$el=s(u.Object.getPrototypeOf(t.prototype),"render",this).call(this,e);var n=e.height;return this.$label=document.createElementNS(this.ns,"text"),this.$label.setAttributeNS(null,"x",1),this.$label.setAttributeNS(null,"y",11),this.$label.setAttributeNS(null,"transform","matrix(1, 0, 0, -1, 0, "+n+")"),this.$label.style.fontSize="10px",this.$label.style.fontFamily="monospace",this.$label.style.color="#676767",this.$label.style.mozUserSelect="none",this.$label.style.webkitUserSelect="none",this.$label.style.userSelect="none",this.$el.appendChild(this.$label),this.$el}},update:{value:function(e,n,r){s(u.Object.getPrototypeOf(t.prototype),"update",this).call(this,e,n,r),this.$label.innerHTML=this.text(n)}}}),t}(l);t.exports=c},{"./segment":32,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],27:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/core-js")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("../core/namespace")),o=function(){function e(){var t=void 0===arguments[0]?{}:arguments[0];r(this,e),this.$el=null,this.ns=u,this.params=s.Object.assign({},this._getDefaults(),t);var n=this._getAccessorList();this._createAccessors(n),this._setDefaultAccessors(n)}return i(e,{_getDefaults:{value:function(){return{}}},destroy:{value:function(){this.$el=null}},getClassName:{value:function(){return"shape"}},_getAccessorList:{value:function(){return{}}},install:{value:function(e){for(var t in e)this[t]=e[t]}},_createAccessors:{value:function(e){this._accessors={};var t=s.Object.getPrototypeOf(this);s.Object.keys(e).forEach(function(e){t.hasOwnProperty(e)||Object.defineProperty(t,e,{get:function(){return this._accessors[e]},set:function(t){this._accessors[e]=t}})})}},_setDefaultAccessors:{value:function(e){var t=this;s.Object.keys(e).forEach(function(n){var r=e[n],i=function(e){var t=void 0===arguments[1]?null:arguments[1];return null===t?e[n]||r:void(e[n]=t)};t[n]=i})}},render:{value:function(e){}},update:{value:function(e,t,n){}},inArea:{value:function(e,t,n,r,i,s){}}}),e}();t.exports=o},{"../core/namespace":10,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/interop-require":48}],28:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("./base-shape")),o=a(e("../core/namespace")),l=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),s(t,{getClassName:{value:function(){return"cursor"}},_getAccessorList:{value:function(){return{x:0}}},_getDefaults:{value:function(){return{color:"#000000",opacity:1}}},render:{value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(o,"line"),this.$el.setAttributeNS(null,"x",0),this.$el.setAttributeNS(null,"y1",0),this.$el.setAttributeNS(null,"y2",e.height),this.$el.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el)}},update:{value:function(e,t,n){var r=e.timeToPixel(this.x(t)),i=this.params.color;this.$el.setAttributeNS(null,"transform","translate("+r+", 0)"),this.$el.style.stroke=i}},inArea:{value:function(){return!1}}}),t}(u);t.exports=l},{"../core/namespace":10,"./base-shape":27,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],29:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("./base-shape")),o=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),s(t,{getClassName:{value:function(){return"dot"}},_getAccessorList:{value:function(){return{cx:0,cy:0,r:3,color:"#000000"}}},render:{value:function(){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"circle"),this.$el)}},update:{value:function(e,t,n){var r=e.timeToPixel(this.cx(t)),i=e.valueToPixel(this.cy(t)),s=this.r(t),a=this.color(t);this.$el.setAttributeNS(null,"transform","translate("+r+", "+i+")"),this.$el.setAttributeNS(null,"r",s),this.$el.style.fill=a}},inArea:{value:function(e,t,n,r,i,s){var a=e.timeToPixel(this.cx(t)),u=e.valueToPixel(this.cy(t));return a>n&&i>a&&u>r&&s>u?!0:!1}}}),t}(u);t.exports=o},{"./base-shape":27,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],30:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("./base-shape")),o=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),s(t,{getClassName:{value:function(){return"line"}},_getAccessorList:{value:function(){return{cx:0,cy:0}}},_getDefaults:{value:function(){return{color:"#000000"}}},render:{value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"path"),this.$el)}},update:{value:function(e,t){var n=this;t=t.slice(0),t.sort(function(e,t){return n.cx(e)<n.cx(t)?-1:1}),this.$el.setAttributeNS(null,"d",this._buildLine(e,t)),this.$el.style.stroke=this.params.color,this.$el.style.fill="none",t=null}},_buildLine:{value:function(e,t){var n=this;if(!t.length)return"";var r=t.map(function(t,r){var i=e.timeToPixel(n.cx(t)),s=e.valueToPixel(n.cy(t));return""+i+","+s});return"M"+r.join("L")}}}),t}(u);t.exports=o},{"./base-shape":27,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],31:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("./base-shape")),o=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),s(t,{getClassName:{value:function(){return"marker"}},_getAccessorList:{value:function(){return{x:0,color:"#000000"}}},_getDefaults:{value:function(){return{handlerWidth:7,handlerHeight:10,displayHandler:!0,opacity:1}}},render:{value:function(e){if(this.$el)return this.$el;var t=e.height;return this.$el=document.createElementNS(this.ns,"g"),this.$line=document.createElementNS(this.ns,"rect"),this.$line.setAttributeNS(null,"x",0),this.$line.setAttributeNS(null,"y",0),this.$line.setAttributeNS(null,"width",1),this.$line.setAttributeNS(null,"height",t),this.$line.setAttributeNS(null,"shape-rendering","optimizeSpeed"),this.$el.appendChild(this.$line),this.params.displayHandlers&&(this.$handler=document.createElementNS(this.ns,"rect"),this.$handler.setAttributeNS(null,"x",-((this.params.handlerWidth-1)/2)),this.$handler.setAttributeNS(null,"y",e.height-this.params.handlerHeight),this.$handler.setAttributeNS(null,"width",this.params.handlerWidth),this.$handler.setAttributeNS(null,"height",this.params.handlerHeight),this.$handler.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el.appendChild(this.$handler)),this.$el.style.opacity=this.params.opacity,this.$el}},update:{value:function(e,t,n){var r=e.timeToPixel(this.x(t))-.5,i=this.color(t);this.$el.setAttributeNS(null,"transform","translate("+r+", 0)"),this.$line.style.fill=i,this.params.displayHandlers&&(this.$handler.style.fill=i)}},inArea:{value:function(e,t,n,r,i,s){var a=e.timeToPixel(this.x(t)),u=a-(this.params.handlerWidth-1)/2,o=u+this.params.handlerWidth,l=e.height-this.params.handlerHeight,c=e.height,h=Math.max(0,Math.min(i,o)-Math.max(n,u)),f=Math.max(0,Math.min(s,c)-Math.max(r,l)),m=h*f;return m>0}}}),t}(u);t.exports=o},{"./base-shape":27,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],32:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("./base-shape")),o=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),s(t,{getClassName:{value:function(){return"segment"}},_getAccessorList:{value:function(){return{x:0,y:0,width:0,height:1,color:"#000000",opacity:1}}},_getDefaults:{value:function(){return{displayHandlers:!0,handlerWidth:2,handlerOpacity:.8,opacity:.6}}},render:{value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.$segment=document.createElementNS(this.ns,"rect"),this.$segment.classList.add("segment"),this.$segment.style.opacity=this.params.opacity,this.$segment.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el.appendChild(this.$segment),this.params.displayHandlers&&(this.$leftHandler=document.createElementNS(this.ns,"rect"),this.$leftHandler.classList.add("left","handler"),this.$leftHandler.setAttributeNS(null,"width",this.params.handlerWidth),this.$leftHandler.setAttributeNS(null,"shape-rendering","crispEdges"),this.$leftHandler.style.opacity=this.params.handlerOpacity,this.$leftHandler.style.cursor="ew-resize",this.$rightHandler=document.createElementNS(this.ns,"rect"),this.$rightHandler.classList.add("right","handler"),this.$rightHandler.setAttributeNS(null,"width",this.params.handlerWidth),this.$rightHandler.setAttributeNS(null,"shape-rendering","crispEdges"),this.$rightHandler.style.opacity=this.params.handlerOpacity,this.$rightHandler.style.cursor="ew-resize",this.$el.appendChild(this.$leftHandler),this.$el.appendChild(this.$rightHandler)),this.$el)}},update:{value:function(e,t,n){var r=e.timeToPixel(this.x(t)),i=e.valueToPixel(this.y(t)),s=e.timeToPixel(this.width(t)),a=e.valueToPixel(this.height(t)),u=this.color(t),o=this.opacity(t);if(this.$el.setAttributeNS(null,"transform","translate("+r+", "+i+")"),this.$el.style.opacity=o,this.$segment.setAttributeNS(null,"width",Math.max(s,0)),this.$segment.setAttributeNS(null,"height",a),this.$segment.style.fill=u,this.params.displayHandlers){this.$leftHandler.setAttributeNS(null,"height",a),this.$leftHandler.setAttributeNS(null,"transform","translate(0, 0)"),this.$leftHandler.style.fill=u;var l="translate("+(s-this.params.handlerWidth)+", 0)";this.$rightHandler.setAttributeNS(null,"height",a),this.$rightHandler.setAttributeNS(null,"transform",l),this.$rightHandler.style.fill=u}}},inArea:{value:function(e,t,n,r,i,s){var a=e.timeToPixel(this.x(t)),u=e.timeToPixel(this.x(t)+this.width(t)),o=e.valueToPixel(this.y(t)),l=e.valueToPixel(this.y(t)+this.height(t)),c=Math.max(0,Math.min(i,u)-Math.max(n,a)),h=Math.max(0,Math.min(s,l)-Math.max(r,o)),f=c*h;return f>0}}}),t}(u);t.exports=o},{"./base-shape":27,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],33:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("./base-shape")),o=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),s(t,{getClassName:{value:function(){return"trace-common"}},_getAccessorList:{value:function(){return{x:0,mean:0,range:0}}},_getDefaults:{value:function(){return{rangeColor:"steelblue",meanColor:"#232323",displayMean:!0}}},render:{value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.$range=document.createElementNS(this.ns,"path"),this.$el.appendChild(this.$range),this.params.displayMean&&(this.$mean=document.createElementNS(this.ns,"path"),this.$el.appendChild(this.$mean)),this.$el)}},update:{value:function(e,t){var n=this;t=t.slice(0),t.sort(function(e,t){return n.x(e)<n.x(t)?-1:1}),this.params.displayMean&&(this.$mean.setAttributeNS(null,"d",this._buildMeanLine(e,t)),this.$mean.setAttributeNS(null,"stroke",this.params.meanColor),this.$mean.setAttributeNS(null,"fill","none")),this.$range.setAttributeNS(null,"d",this._buildRangeZone(e,t)),this.$range.setAttributeNS(null,"stroke","none"),this.$range.setAttributeNS(null,"fill",this.params.rangeColor),this.$range.setAttributeNS(null,"opacity","0.4"),t=null}},_buildMeanLine:{value:function(e,t){var n=this,r=t.map(function(t,r){var i=e.timeToPixel(n.x(t)),s=e.valueToPixel(n.mean(t));return""+i+","+s});return"M"+r.join("L")}},_buildRangeZone:{value:function(e,t){for(var n=t.length,r="",i="",s=0;n>s;s++){var a=t[s],u=this.mean(a),o=this.range(a)/2,l=e.timeToPixel(this.x(a)),c=e.valueToPixel(u+o),h=e.valueToPixel(u-o),f=""+l+","+c,m=""+l+","+h;r=""===r?f:""+r+"L"+f,i=""===i?m:""+m+"L"+i}var p="M"+r+"L"+i+"Z";return p}}}),t}(u);t.exports=o},{"./base-shape":27,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],34:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("./base-shape")),o=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),s(t,{getClassName:{value:function(){return"trace-dots"}},_getAccessorList:{value:function(){return{x:0,mean:0,range:0}}},_getDefaults:{value:function(){return{meanRadius:3,rangeRadius:3,meanColor:"#232323",rangeColor:"steelblue"}}},render:{value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.$mean=document.createElementNS(this.ns,"circle"),this.$mean.setAttributeNS(null,"r",this.params.meanRadius),this.$mean.setAttributeNS(null,"stroke",this.params.meanColor),this.$mean.setAttributeNS(null,"fill","transparent"),this.$mean.classList.add("mean"),this.$max=document.createElementNS(this.ns,"circle"),this.$max.setAttributeNS(null,"r",this.params.meanRadius),this.$max.setAttributeNS(null,"stroke",this.params.rangeColor),this.$max.setAttributeNS(null,"fill","transparent"),this.$max.classList.add("max"),this.$min=document.createElementNS(this.ns,"circle"),this.$min.setAttributeNS(null,"r",this.params.meanRadius),this.$min.setAttributeNS(null,"stroke",this.params.rangeColor),this.$min.setAttributeNS(null,"fill","transparent"),this.$min.classList.add("min"),this.$el.appendChild(this.$mean),this.$el.appendChild(this.$max),this.$el.appendChild(this.$min),this.$el)}},update:{value:function(e,t,n){var r=this.mean(t),i=this.range(t),s=this.x(t),a=""+e.yScale(r);this.$mean.setAttributeNS(null,"transform","translate(0, "+a+")");var u=i/2,o=e.valueToPixel(r+u),l=e.valueToPixel(r-u),c=e.timeToPixel(s);this.$max.setAttributeNS(null,"transform","translate(0, "+o+")"),this.$min.setAttributeNS(null,"transform","translate(0, "+l+")"),this.$el.setAttributeNS(null,"transform","translate("+c+", 0)")}}}),t}(u);t.exports=o},{"./base-shape":27,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],35:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/interop-require")["default"],u=a(e("./base-shape")),o="http://www.w3.org/1999/xhtml",l=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),s(t,{getClassName:{value:function(){return"waveform"}},_getAccessorList:{value:function(){return{y:0}}},_getDefaults:{value:function(){return{sampleRate:44100,color:"#000000",opacity:1,renderingStrategy:"svg"}}},render:{value:function(e){if(this.$el)return this.$el;if("svg"===this.params.renderingStrategy)this.$el=document.createElementNS(this.ns,"path"),this.$el.setAttributeNS(null,"fill","none"),this.$el.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el.setAttributeNS(null,"stroke",this.params.color),this.$el.style.opacity=this.params.opacity;else if("canvas"===this.params.renderingStrategy){this.$el=document.createElementNS(this.ns,"foreignObject"),this.$el.setAttributeNS(null,"width",e.width),this.$el.setAttributeNS(null,"height",e.height);var t=document.createElementNS(o,"xhtml:canvas");this._ctx=t.getContext("2d"),this._ctx.canvas.width=e.width,this._ctx.canvas.height=e.height,this.$el.appendChild(t)}return this.$el}},update:{value:function(e,t,n){for(var r=this,i=t instanceof Float32Array?"subarray":"slice",s=t.length,a=s/this.params.sampleRate,u=e.timeToPixel(a),o=s/u,l=[],c=0;u>=c;c++){for(var h=e.timeToPixel.invert(c),f=h*this.params.sampleRate,m=t[i](f,f+o),p=1/0,d=-(1/0),b=0;b<m.length;b++){var v=m[b];p>v&&(p=v),v>d&&(d=v)}p=p===1/0||p===-(1/0)?0:p,d=d===1/0||d===-(1/0)?0:d,l.push({time:h,values:[p,d]})}var g=0,y=1;if("svg"===this.params.renderingStrategy){
var x=l.map(function(t,n){var i=Math.floor(e.timeToPixel(t.time)),s=Math.round(e.valueToPixel(r.y(t.values[g]))),a=Math.round(e.valueToPixel(r.y(t.values[y])));return""+i+","+s+"L"+i+","+a}),_="M"+x.join("L");this.$el.setAttributeNS(null,"d",_)}else"canvas"===this.params.renderingStrategy&&(this._ctx.canvas.width=u,this.$el.setAttribute("width",u),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&this.$el.setAttribute("x",e.offsetX),this._ctx.strokeStyle=this.params.color,this._ctx.globalAlpha=this.params.opacity,this._ctx.moveTo(e.timeToPixel(0),e.valueToPixel(0)),l.forEach(function(t){var n=e.timeToPixel(t.time),i=e.valueToPixel(r.y(t.values[g])),s=e.valueToPixel(r.y(t.values[y]));r._ctx.moveTo(n,i),r._ctx.lineTo(n,s)}),this._ctx.stroke())}}}),t}(u);t.exports=l},{"./base-shape":27,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],36:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/create-class")["default"],s=function(){function e(t){void 0===arguments[1]?{}:arguments[1];r(this,e),this.timeline=t}return i(e,{tracks:{get:function(){return this.timeline.tracks}},layers:{get:function(){return this.timeline.tracks.layers}},enter:{value:function(){}},exit:{value:function(){}},handleEvent:{value:function(e){}}}),e}();t.exports=s},{"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44}],37:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("../core/namespace")),c=o(e("./base-state")),h=function(e){function t(e){r(this,t),s(u.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return i(t,e),a(t,{handleEvent:{value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e);break;case"keydown":this.onKeyDown(e)}}},onMouseDown:{value:function(e){var t=this;this.brushes=[],this.startX=e.x,this.tracks.forEach(function(e){var n=e.$interactions,r=document.createElementNS(l,"rect");r.setAttributeNS(null,"height",e.height),r.setAttributeNS(null,"y",0),r.style.fill="#787878",r.style.opacity=.2,n.appendChild(r),t.brushes.push(r)})}},onMouseMove:{value:function(e){var t=Math.abs(e.x-this.startX),n=Math.min(e.x,this.startX);this.brushes.forEach(function(e){e.setAttributeNS(null,"width",t),e.setAttributeNS(null,"x",n)})}},onMouseUp:{value:function(e){this.brushes.forEach(function(e){e.parentNode.removeChild(e)});var t=this.startX,n=e.x;if(!(Math.abs(t-n)<1)){var r=Math.max(0,Math.min(t,n)),i=Math.max(t,n),s=this.timeline.timeToPixel.invert(r),a=this.timeline.timeToPixel.invert(i),u=a-s,o=this.timeline.visibleDuration/u;this.timeline.offset-=s,this.timeline.zoom*=o,this.tracks.update()}}},onKeyDown:{value:function(e){32===e.originalEvent.keyCode&&(this.timeline.offset=0,this.timeline.zoom=1,this.tracks.update())}}}),t}(c);t.exports=h},{"../core/namespace":10,"./base-state":36,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],38:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("d3-scale")),c=o(e("./base-state")),h=function(e){function t(e){r(this,t),s(u.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentLayer=null,this.maxZoom=44100/this.timeline.timeContext.pixelsPerSecond,this.minZoom=1e4/3600/this.timeline.timeContext.pixelsPerSecond}return i(t,e),a(t,{handleEvent:{value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e)}}},onMouseDown:{value:function(e){this.mouseDown=!0;var t=this.timeline.timeContext.zoom,n=e.y;this.valueToPixel=l.linear().domain([n,0]).range([t,-2*t])}},onMouseMove:{value:function(e){if(this.mouseDown){var t=this.timeline.timeContext,n=t.timeToPixel.invert(e.x);t.zoom=Math.min(Math.max(this.valueToPixel(e.y),this.minZoom),this.maxZoom);var r=t.timeToPixel.invert(e.x),i=r-n;t.offset+=i+t.timeToPixel.invert(e.dx),this.timeline.tracks.update()}}},onMouseUp:{value:function(e){this.mouseDown=!1}}}),t}(c);t.exports=h},{"./base-state":36,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48,"d3-scale":53}],39:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("./base-state")),c=(o(e("../behaviors/time-context-behavior")),function(e){function t(e){r(this,t),s(u.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return i(t,e),a(t,{handleEvent:{value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e)}}},onMouseDown:{value:function(e){this.mouseDown=!0,this.currentTarget=e.target;for(var t=0,n=this.layers.length;n>t;t++){var r=this.layers[t];if(r.hasElement(e.target)){this.currentLayer=r;break}}}},onMouseMove:{value:function(e){if(this.mouseDown&&this.currentLayer){var t=this.currentLayer,n=this.currentTarget;e.originalEvent.shiftKey?t.stretchContext(e.dx,e.dy,n):t.editContext(e.dx,e.dy,n),this.timeline.tracks.update(t)}}},onMouseUp:{value:function(e){this.mouseDown=!1,this.currentTarget=null,this.currentLayer=null}}}),t}(l));t.exports=c},{"../behaviors/time-context-behavior":6,"./base-state":36,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],40:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("./base-state")),c=function(e){function t(e){r(this,t),s(u.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentEditedLayer=null,this.currentTarget=null}return i(t,e),a(t,{enter:{value:function(){}},exit:{value:function(){}},handleEvent:{value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e)}}},onMouseDown:{value:function(e){var t=this;this.mouseDown=!0,this.currentTarget=e.target,this.layers.forEach(function(n){if(n.hasElement(t.currentTarget)){e.originalEvent.shiftKey||n.unselect();var r=n.getItemFromDOMElement(t.currentTarget);null!==r&&(t.currentEditedLayer=n,n.select(r))}})}},onMouseMove:{value:function(e){if(this.mouseDown&&this.currentEditedLayer){var t=this.currentEditedLayer,n=t.selectedItems;t.edit(n,e.dx,e.dy,this.currentTarget),t.update(n)}}},onMouseUp:{value:function(e){this.currentEditedLayer=null,this.mouseDown=!1}}}),t}(l);t.exports=c},{"./base-state":36,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],41:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/core-js")["default"],o=e("babel-runtime/helpers/interop-require")["default"],l=o(e("./base-state")),c=o(e("../core/namespace")),h=function(e){function t(e){r(this,t),s(u.Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentLayer=null,this.selectedItems=null,this.mouseDown=!1,this.shiftKey=!1}return i(t,e),a(t,{enter:{value:function(){}},exit:{value:function(){var e=this.timeline.containers;for(var t in e)this._removeBrush(e[t])}},handleEvent:{value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e);break;case"click":this.onClick(e);break;case"keydown":this.onKey(e);break;case"keyup":this.onKey(e)}}},_addBrush:{value:function(e){if(null===e.brushElement){var t=document.createElementNS(c,"rect");t.style.fill="#686868",t.style.opacity=.2,e.interactionsElement.appendChild(t),e.brushElement=t}}},_removeBrush:{value:function(e){null!==e.brushElement&&(this._resetBrush(e.brushElement),e.interactionsElement.removeChild(e.brushElement),e.brushElement=null)}},_resetBrush:{value:function(e){var t=e.brushElement;t.setAttributeNS(null,"transform","translate(0, 0)"),t.setAttributeNS(null,"width",0),t.setAttributeNS(null,"height",0)}},_updateBrush:{value:function(e,t){var n=t.brushElement,r="translate("+e.area.left+", "+e.area.top+")";n.setAttributeNS(null,"transform",r),n.setAttributeNS(null,"width",e.area.width),n.setAttributeNS(null,"height",e.area.height)}},onKey:{value:function(e){this.shiftKey=e.shiftKey}},onMouseDown:{value:function(e){this.mouseDown=!0;var t=this.timeline.getContainerFromDOMElement(e.currentTarget);this.currentContainer=t,this._addBrush(t);var n=void 0,r=!0,i=!1,s=void 0;try{for(var a,o=u.$for.getIterator(this.layers);!(r=(a=o.next()).done);r=!0){var l=a.value;if(l.hasItem(e.target)){n=l;break}}}catch(c){i=!0,s=c}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}this.currentLayer&&n&&n!==this.currentLayer&&this.currentLayer.unselectAll(),n&&n!==this.currentLayer&&(this.currentLayer=n),this.currentLayer&&(this.previousSelection=this.currentLayer.selectedItems.slice(0),this.shiftKey||this.currentLayer.unselect())}},onMouseMove:{value:function(e){var t=this;if(this.mouseDown){this.timeline.getContainerFromDOMElement(this.currentLayer);this._updateBrush(e,this.currentContainer),this.currentLayer&&!function(){var n=t.currentLayer.getItemsInArea(e.area),r=t.currentLayer.selectedItems;n.forEach(function(e){return t.currentLayer.select(e)}),t.shiftKey&&t.previousSelection.forEach(function(e){-1!==n.indexOf(e)?t.currentLayer.unselect(e):t.currentLayer.select(e)}),r.forEach(function(e){-1===n.indexOf(e)&&-1===t.previousSelection.indexOf(e)&&t.currentLayer.unselect(e)})}()}}},onMouseUp:{value:function(e){this.mouseDown&&(this.mouseDown=!1,this._resetBrush(this.currentContainer))}},onClick:{value:function(e){if(this.currentLayer){var t=this.currentLayer.hasItem(e.target);0===this.previousSelection.length||this.shiftKey||this.currentLayer.unselectAll(),t&&(-1===this.previousSelection.indexOf(t)?this.currentLayer.select(t):this.currentLayer.unselect(t))}}}}),t}(l);t.exports=h},{"../core/namespace":10,"./base-state":36,"babel-runtime/core-js":42,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":46,"babel-runtime/helpers/inherits":47,"babel-runtime/helpers/interop-require":48}],42:[function(e,t,n){!function(e,n,r){"use strict";function i(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function s(e){return"function"==typeof e}function a(e,t,n){e&&!gt(e=n?e:e[ye],Bt)&&jt(e,Bt,t)}function u(e){return at.call(e).slice(8,-1)}function o(e){var t,n;return e==r?e===r?"Undefined":"Null":"string"==typeof(n=(t=Le(e))[Bt])?n:u(t)}function l(){for(var e=L(this),t=arguments.length,n=Ae(t),r=0,i=Wt._,s=!1;t>r;)(n[r]=arguments[r++])===i&&(s=!0);return function(){var r,a=this,u=arguments.length,o=0,l=0;if(!s&&!u)return h(e,n,a);if(r=n.slice(),s)for(;t>o;o++)r[o]===i&&(r[o]=arguments[l++]);for(;u>l;)r.push(arguments[l++]);return h(e,r,a)}}function c(e,t,n){if(L(e),~n&&t===r)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}function h(e,t,n){var i=n===r;switch(0|t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);case 5:return i?e(t[0],t[1],t[2],t[3],t[4]):e.call(n,t[0],t[1],t[2],t[3],t[4])}return e.apply(n,t)}function f(e){return yt(N(e))}function m(e){return e}function p(){return this}function d(e,t){return gt(e,t)?e[t]:void 0}function b(e){return A(e),bt?dt(e).concat(bt(e)):dt(e)}function v(e,t){for(var n,r=f(e),i=pt(r),s=i.length,a=0;s>a;)if(r[n=i[a++]]===t)return n}function g(e){return Te(e).split(",")}function y(e){var t=1==e,n=2==e,i=3==e,s=4==e,a=6==e,u=5==e||a;return function(o){for(var l,h,f=Le(N(this)),m=arguments[1],p=yt(f),d=c(o,m,3),b=S(p.length),v=0,g=t?Ae(b):n?[]:r;b>v;v++)if((u||v in p)&&(l=p[v],h=d(l,v,f),e))if(t)g[v]=h;else if(h)switch(e){case 3:return!0;case 5:return l;case 6:return v;case 2:g.push(l)}else if(s)return!1;return a?-1:i||s?s:g}}function x(e){return function(t){var n=f(this),r=S(n.length),i=$(arguments[1],r);if(e&&t!=t){for(;r>i;i++)if(w(n[i]))return e||i}else for(;r>i;i++)if((e||i in n)&&n[i]===t)return e||i;return!e&&-1}}function _(e,t){return"function"==typeof e?e:t}function w(e){return e!=e}function k(e){return isNaN(e)?0:Lt(e)}function S(e){return e>0?Ct(k(e),kt):0}function $(e,t){var e=k(e);return 0>e?Pt(e+t,0):Ct(e,t)}function M(e){return e>9?e:"0"+e}function E(e,t,n){var r=i(t)?function(e){return t[e]}:t;return function(t){return Te(n?t:this).replace(e,r)}}function P(e){return function(t){var n,i,s=Te(N(this)),a=k(t),u=s.length;return 0>a||a>=u?e?"":r:(n=s.charCodeAt(a),55296>n||n>56319||a+1===u||(i=s.charCodeAt(a+1))<56320||i>57343?e?s.charAt(a):n:e?s.slice(a,a+2):(n-55296<<10)+(i-56320)+65536)}}function C(e,t,n){if(!e)throw ze(n?t+n:t)}function N(e){if(e==r)throw ze("Function called on null or undefined");return e}function L(e){return C(s(e),e," is not a function!"),e}function A(e){return C(i(e),e," is not an object!"),e}function T(e,t,n){C(e instanceof t,n,": use the 'new' operator!")}function O(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function j(e,t,n){return e[t]=n,e}function D(e){return Tt?function(t,n,r){return ft(t,n,O(e,r))}:j}function q(e){return de+"("+e+")_"+(++Ot+Nt())[_e](36)}function R(e,t){return Ie&&Ie[e]||(t?Ie:qt)(de+it+e)}function I(e,t){for(var n in t)jt(e,n,t[n]);return e}function B(e){!Tt||!n&&st(e)||ft(e,zt,{configurable:!0,get:p})}function z(t,r,i){var a,u,o,l,h=t&Xt,f=h?e:t&Gt?e[r]:(e[r]||tt)[ye],m=h?Ft:Ft[r]||(Ft[r]={});h&&(i=r);for(a in i)u=!(t&Kt)&&f&&a in f&&(!s(f[a])||st(f[a])),o=(u?f:i)[a],n||!h||s(f[a])?t&Vt&&u?l=c(o,e):t&Zt&&!n&&f[a]==o?(l=function(e){return this instanceof o?new o(e):o(e)},l[ye]=o[ye]):l=t&Yt&&s(o)?c(ut,o):o:l=i[a],n&&f&&!u&&(h?f[a]=o:delete f[a]&&jt(f,a,o)),m[a]!=o&&jt(m,a,l)}function H(e,t){jt(e,ne,t),Ee in et&&jt(e,Ee,t)}function F(e,t,n,r){e[ye]=lt(r||nn,{next:O(1,n)}),a(e,t+" Iterator")}function W(e,t,r,i){var s=e[ye],u=d(s,ne)||d(s,Ee)||i&&d(s,i)||r;if(n&&(H(s,u),u!==r)){var o=ct(u.call(new e));a(o,t+" Iterator",!0),gt(s,Ee)&&H(o,p)}return tn[t]=u,tn[t+" Iterator"]=p,u}function U(e,t,n,r,i,s){function a(e){return function(){return new n(this,e)}}F(n,t,r);var u=a(Qt+en),o=a(en);i==en?o=W(e,t,o,"values"):u=W(e,t,u,"entries"),i&&z(Yt+Kt*rn,t,{entries:u,keys:s?o:a(Qt),values:o})}function K(e,t){return{value:t,done:!!e}}function X(t){var n=Le(t),r=e[de],i=(r&&r[Me]||Ee)in n;return i||ne in n||gt(tn,o(n))}function G(t){var n=e[de],r=t[n&&n[Me]||Ee],i=r||t[ne]||tn[o(t)];return A(i.call(t))}function Y(e,t,n){return n?h(e,t):e(t)}function V(e){var t=!0,n={next:function(){throw 1},"return":function(){t=!1}};n[ne]=p;try{e(n)}catch(r){}return t}function Z(e){var t=e["return"];t!==r&&t.call(e)}function J(e,t){try{e(t)}catch(n){throw Z(t),n}}function Q(e,t,n,r){J(function(e){for(var i,s=c(n,r,t?2:1);!(i=e.next()).done;)if(Y(s,i.value,t)===!1)return Z(e)},G(e))}var ee,te,ne,re,ie="Object",se="Function",ae="Array",ue="String",oe="Number",le="RegExp",ce="Date",he="Map",fe="Set",me="WeakMap",pe="WeakSet",de="Symbol",be="Promise",ve="Math",ge="Arguments",ye="prototype",xe="constructor",_e="toString",we=_e+"Tag",ke="toLocaleString",Se="hasOwnProperty",$e="forEach",Me="iterator",Ee="@@"+Me,Pe="process",Ce="createElement",Ne=e[se],Le=e[ie],Ae=e[ae],Te=e[ue],Oe=e[oe],je=(e[le],e[ce],e[he]),De=e[fe],qe=e[me],Re=e[pe],Ie=e[de],Be=e[ve],ze=e.TypeError,He=e.RangeError,Fe=e.setTimeout,We=e.setImmediate,Ue=e.clearImmediate,Ke=e.parseInt,Xe=e.isFinite,Ge=e[Pe],Ye=Ge&&Ge.nextTick,Ve=e.document,Ze=Ve&&Ve.documentElement,Je=(e.navigator,e.define),Qe=e.console||{},et=Ae[ye],tt=Le[ye],nt=Ne[ye],rt=1/0,it=".",st=c(/./.test,/\[native code\]\s*\}\s*$/,1),at=tt[_e],ut=nt.call,ot=nt.apply,lt=Le.create,ct=Le.getPrototypeOf,ht=Le.setPrototypeOf,ft=Le.defineProperty,mt=(Le.defineProperties,Le.getOwnPropertyDescriptor),pt=Le.keys,dt=Le.getOwnPropertyNames,bt=Le.getOwnPropertySymbols,vt=Le.isFrozen,gt=c(ut,tt[Se],2),yt=Le,xt=Le.assign||function(e,t){for(var n=Le(N(e)),r=arguments.length,i=1;r>i;)for(var s,a=yt(arguments[i++]),u=pt(a),o=u.length,l=0;o>l;)n[s=u[l++]]=a[s];return n},_t=et.push,wt=(et.unshift,et.slice,et.splice,et.indexOf,et[$e]),kt=9007199254740991,St=Be.pow,$t=Be.abs,Mt=Be.ceil,Et=Be.floor,Pt=Be.max,Ct=Be.min,Nt=Be.random,Lt=Be.trunc||function(e){return(e>0?Et:Mt)(e)},At="Reduce of empty object with no initial value",Tt=!!function(){try{return 2==ft({},"a",{get:function(){return 2}}).a}catch(e){}}(),Ot=0,jt=D(1),Dt=Ie?j:jt,qt=Ie||q,Rt=R("unscopables"),It=et[Rt]||{},Bt=R(we),zt=R("species"),Ht=u(Ge)==Pe,Ft={},Wt=n?e:Ft,Ut=e.core,Kt=1,Xt=2,Gt=4,Yt=8,Vt=16,Zt=32;"undefined"!=typeof t&&t.exports?t.exports=Ft:s(Je)&&Je.amd?Je(function(){return Ft}):re=!0,(re||n)&&(Ft.noConflict=function(){return e.core=Ut,Ft},e.core=Ft),ne=R(Me);var Jt=qt("iter"),Qt=1,en=2,tn={},nn={},rn="keys"in et&&!("next"in[].keys());H(nn,p),!function(t,n,r,i){st(Ie)||(Ie=function(e){C(!(this instanceof Ie),de+" is not a "+xe);var n=q(e),s=Dt(lt(Ie[ye]),t,n);return r[n]=s,Tt&&i&&ft(tt,n,{configurable:!0,set:function(e){jt(this,n,e)}}),s},jt(Ie[ye],_e,function(){return this[t]})),z(Xt+Zt,{Symbol:Ie});var s={"for":function(e){return gt(n,e+="")?n[e]:n[e]=Ie(e)},iterator:ne||R(Me),keyFor:l.call(v,n),species:zt,toStringTag:Bt=R(we,!0),unscopables:Rt,pure:qt,set:Dt,useSetter:function(){i=!0},useSimple:function(){i=!1}};wt.call(g("hasInstance,isConcatSpreadable,match,replace,search,split,toPrimitive"),function(e){s[e]=R(e)}),z(Gt,de,s),a(Ie,de),z(Gt+Kt*!st(Ie),ie,{getOwnPropertyNames:function(e){for(var t,n=dt(f(e)),i=[],s=0;n.length>s;)gt(r,t=n[s++])||i.push(t);return i},getOwnPropertySymbols:function(e){for(var t,n=dt(f(e)),i=[],s=0;n.length>s;)gt(r,t=n[s++])&&i.push(r[t]);return i}}),a(Be,ve,!0),a(e.JSON,"JSON",!0)}(qt("tag"),{},{},!0),!function(){var e={assign:xt,is:function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}};"__proto__"in tt&&function(t,n){try{n=c(ut,mt(tt,"__proto__").set,2),n({},et)}catch(r){t=!0}e.setPrototypeOf=ht=ht||function(e,r){return A(e),C(null===r||i(r),r,": can't set as prototype!"),t?e.__proto__=r:n(e,r),e}}(),z(Gt,ie,e)}(),!function(){function e(e,t){var n=Le[e],r=Ft[ie][e],s=0,a={};if(!r||st(r)){a[e]=1==t?function(e){return i(e)?n(e):e}:2==t?function(e){return i(e)?n(e):!0}:3==t?function(e){return i(e)?n(e):!1}:4==t?function(e,t){return n(f(e),t)}:function(e){return n(f(e))};try{n(it)}catch(u){s=1}z(Gt+Kt*s,ie,a)}}e("freeze",1),e("seal",1),e("preventExtensions",1),e("isFrozen",2),e("isSealed",2),e("isExtensible",3),e("getOwnPropertyDescriptor",4),e("getPrototypeOf"),e("keys"),e("getOwnPropertyNames")}(),!function(e){z(Gt,oe,{EPSILON:St(2,-52),isFinite:function(e){return"number"==typeof e&&Xe(e)},isInteger:e,isNaN:w,isSafeInteger:function(t){return e(t)&&$t(t)<=kt},MAX_SAFE_INTEGER:kt,MIN_SAFE_INTEGER:-kt,parseFloat:parseFloat,parseInt:Ke})}(Oe.isInteger||function(e){return!i(e)&&Xe(e)&&Et(e)===e}),!function(){function e(t){return Xe(t=+t)&&0!=t?0>t?-e(-t):i(t+s(t*t+1)):t}function t(e){return 0==(e=+e)?e:e>-1e-6&&1e-6>e?e+e*e/2:r(e)-1}var n=Be.E,r=Be.exp,i=Be.log,s=Be.sqrt,a=Be.sign||function(e){return 0==(e=+e)||e!=e?e:0>e?-1:1};z(Gt,ve,{acosh:function(e){return(e=+e)<1?NaN:Xe(e)?i(e/n+s(e+1)*s(e-1)/n)+1:e},asinh:e,atanh:function(e){return 0==(e=+e)?e:i((1+e)/(1-e))/2},cbrt:function(e){return a(e=+e)*St($t(e),1/3)},clz32:function(e){return(e>>>=0)?32-e[_e](2).length:32},cosh:function(e){return(r(e=+e)+r(-e))/2},expm1:t,fround:function(e){return new Float32Array([e])[0]},hypot:function(e,t){for(var n,r=0,i=arguments.length,a=i,u=Ae(i),o=-rt;i--;){if(n=u[i]=+arguments[i],n==rt||n==-rt)return rt;n>o&&(o=n)}for(o=n||1;a--;)r+=St(u[a]/o,2);return o*s(r)},imul:function(e,t){var n=65535,r=+e,i=+t,s=n&r,a=n&i;return 0|s*a+((n&r>>>16)*a+s*(n&i>>>16)<<16>>>0)},log1p:function(e){return(e=+e)>-1e-8&&1e-8>e?e-e*e/2:i(1+e)},log10:function(e){return i(e)/Be.LN10},log2:function(e){return i(e)/Be.LN2},sign:a,sinh:function(e){return $t(e=+e)<1?(t(e)-t(-e))/2:(r(e-1)-r(-e-1))*(n/2)},tanh:function(e){var n=t(e=+e),i=t(-e);return n==rt?1:i==rt?-1:(n-i)/(r(e)+r(-e))},trunc:Lt})}(),!function(e){function t(e){if(u(e)==le)throw ze()}z(Gt,ue,{fromCodePoint:function(t){for(var n,r=[],i=arguments.length,s=0;i>s;){if(n=+arguments[s++],$(n,1114111)!==n)throw He(n+" is not a valid code point");r.push(65536>n?e(n):e(((n-=65536)>>10)+55296,n%1024+56320))}return r.join("")},raw:function(e){for(var t=f(e.raw),n=S(t.length),r=arguments.length,i=[],s=0;n>s;)i.push(Te(t[s++])),r>s&&i.push(Te(arguments[s]));return i.join("")}}),z(Yt,ue,{codePointAt:P(!1),endsWith:function(e){t(e);var n=Te(N(this)),i=arguments[1],s=S(n.length),a=i===r?s:Ct(S(i),s);return e+="",n.slice(a-e.length,a)===e},includes:function(e){return t(e),!!~Te(N(this)).indexOf(e,arguments[1])},repeat:function(e){var t=Te(N(this)),n="",r=k(e);if(0>r||r==rt)throw He("Count can't be negative");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},startsWith:function(e){t(e);var n=Te(N(this)),r=S(Ct(arguments[1],n.length));return e+="",n.slice(r,r+e.length)===e}})}(Te.fromCharCode),!function(){z(Gt+Kt*V(Ae.from),ae,{from:function(e){var t,n,i,s=Le(N(e)),a=arguments[1],u=a!==r,o=u?c(a,arguments[2],2):r,l=0;if(X(s))n=new(_(this,Ae)),J(function(e){for(;!(i=e.next()).done;l++)n[l]=u?o(i.value,l):i.value},G(s));else for(n=new(_(this,Ae))(t=S(s.length));t>l;l++)n[l]=u?o(s[l],l):s[l];return n.length=l,n}}),z(Gt,ae,{of:function(){for(var e=0,t=arguments.length,n=new(_(this,Ae))(t);t>e;)n[e]=arguments[e++];return n.length=t,n}}),B(Ae)}(),!function(){z(Yt,ae,{copyWithin:function(e,t){var n=Le(N(this)),i=S(n.length),s=$(e,i),a=$(t,i),u=arguments[2],o=u===r?i:$(u,i),l=Ct(o-a,i-s),c=1;for(s>a&&a+l>s&&(c=-1,a=a+l-1,s=s+l-1);l-->0;)a in n?n[s]=n[a]:delete n[s],s+=c,a+=c;return n},fill:function(e){for(var t=Le(N(this)),n=S(t.length),i=$(arguments[1],n),s=arguments[2],a=s===r?n:$(s,n);a>i;)t[i++]=e;return t},find:y(5),findIndex:y(6)}),n&&(wt.call(g("find,findIndex,fill,copyWithin,entries,keys,values"),function(e){It[e]=!0}),Rt in et||jt(et,Rt,It))}(),!function(e){U(Ae,ae,function(e,t){Dt(this,Jt,{o:f(e),i:0,k:t})},function(){var e=this[Jt],t=e.o,n=e.k,i=e.i++;return!t||i>=t.length?(e.o=r,K(1)):n==Qt?K(0,i):n==en?K(0,t[i]):K(0,[i,t[i]])},en),tn[ge]=tn[ae],U(Te,ue,function(e){Dt(this,Jt,{o:Te(e),i:0})},function(){var t,n=this[Jt],r=n.o,i=n.i;return i>=r.length?K(1):(t=e.call(r,i),n.i+=t.length,K(0,t))})}(P(!0)),s(We)&&s(Ue)||function(t){function n(e){if(gt(d,e)){var t=d[e];delete d[e],t()}}function r(e){n(e.data)}var i,a,u,o=e.postMessage,f=e.addEventListener,m=e.MessageChannel,p=0,d={};We=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return d[++p]=function(){h(s(e)?e:Ne(e),t)},i(p),p},Ue=function(e){delete d[e]},Ht?i=function(e){Ye(l.call(n,e))}:f&&s(o)&&!e.importScripts?(i=function(e){o(e,"*")},f("message",r,!1)):s(m)?(a=new m,u=a.port2,a.port1.onmessage=r,i=c(u.postMessage,u,1)):i=Ve&&t in Ve[Ce]("script")?function(e){Ze.appendChild(Ve[Ce]("script"))[t]=function(){Ze.removeChild(this),n(e)}}:function(e){Fe(n,0,e)}}("onreadystatechange"),z(Xt+Vt,{setImmediate:We,clearImmediate:Ue}),!function(e,t){s(e)&&s(e.resolve)&&e.resolve(t=new e(function(){}))==t||function(t,n){function a(e){var t;return i(e)&&(t=e.then),s(t)?t:!1}function u(e){var t,r=e[n],i=r.c,s=0;if(r.h)return!0;for(;i.length>s;)if(t=i[s++],t.fail||u(t.P))return!0}function o(e,n){var r=e.c;(n||r.length)&&t(function(){var t=e.p,i=e.v,o=1==e.s,l=0;if(n&&!u(t))Fe(function(){u(t)||(Ht?!Ge.emit("unhandledRejection",i,t):s(Qe.error)&&Qe.error("Unhandled promise rejection",i))},1e3);else for(;r.length>l;)!function(t){var n,r,s=o?t.ok:t.fail;try{s?(o||(e.h=!0),n=s===!0?i:s(i),n===t.P?t.rej(ze(be+"-chain cycle")):(r=a(n))?r.call(n,t.res,t.rej):t.res(n)):t.rej(i)}catch(u){t.rej(u)}}(r[l++]);r.length=0})}function l(e){var t,n,r=this;if(!r.d){r.d=!0,r=r.r||r;try{(t=a(e))?(n={r:r,d:!1},t.call(e,c(l,n,1),c(h,n,1))):(r.v=e,r.s=1,o(r))}catch(i){h.call(n||{r:r,d:!1},i)}}}function h(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,o(t,!0))}function f(e){var t=A(e)[zt];return t!=r?t:e}e=function(t){L(t),T(this,e,be);var i={p:this,c:[],s:0,d:!1,v:r,h:!1};jt(this,n,i);try{t(c(l,i,1),c(h,i,1))}catch(s){h.call(i,s)}},I(e[ye],{then:function(t,i){var a=A(A(this)[xe])[zt],u={ok:s(t)?t:!0,fail:s(i)?i:!1},l=u.P=new(a!=r?a:e)(function(e,t){u.res=L(e),u.rej=L(t)}),c=this[n];return c.c.push(u),c.s&&o(c),l},"catch":function(e){return this.then(r,e)}}),I(e,{all:function(e){var t=f(this),n=[];return new t(function(r,i){Q(e,!1,_t,n);var s=n.length,a=Ae(s);s?wt.call(n,function(e,n){t.resolve(e).then(function(e){a[n]=e,--s||r(a)},i)}):r(a)})},race:function(e){var t=f(this);return new t(function(n,r){Q(e,!1,function(e){t.resolve(e).then(n,r)})})},reject:function(e){return new(f(this))(function(t,n){n(e)})},resolve:function(e){return i(e)&&n in e&&ct(e)===this[ye]?e:new(f(this))(function(t,n){t(e)})}})}(Ye||We,qt("record")),a(e,be),B(e),z(Xt+Kt*!st(e),{Promise:e})}(e[be]),!function(){function e(e,t,i,s,u,o){function l(e,t){return t!=r&&Q(t,u,e[m],e),e}function c(e,t){var r=p[e];n&&(p[e]=function(e,n){var i=r.call(this,0===e?0:e,n);return t?this:i})}var m=u?"set":"add",p=e&&e[ye],g={};if(st(e)&&(o||!rn&&gt(p,$e)&&gt(p,"entries"))){var x,_=e,w=new e,k=w[m](o?{}:-0,1);V(function(t){new e(t)})&&(e=function(n){return T(this,e,t),l(new _,n)},e[ye]=p,n&&(p[xe]=e)),o||w[$e](function(e,t){x=1/t===-rt}),x&&(c("delete"),c("has"),u&&c("get")),(x||k!==w)&&c(m,!0)}else e=o?function(n){T(this,e,t),Dt(this,h,y++),l(this,n)}:function(n){var i=this;T(i,e,t),Dt(i,f,lt(null)),Dt(i,v,0),Dt(i,d,r),Dt(i,b,r),l(i,n)},I(I(e[ye],i),s),o||!Tt||ft(e[ye],"size",{get:function(){return N(this[v])}});return a(e,t),B(e),g[t]=e,z(Xt+Zt+Kt*!st(e),g),o||U(e,t,function(e,t){Dt(this,Jt,{o:e,k:t})},function(){for(var e=this[Jt],t=e.k,n=e.l;n&&n.r;)n=n.p;return e.o&&(e.l=n=n?n.n:e.o[b])?t==Qt?K(0,n.k):t==en?K(0,n.v):K(0,[n.k,n.v]):(e.o=r,K(1))},u?Qt+en:en,!u),e}function t(e,t){if(!i(e))return("string"==typeof e?"S":"P")+e;if(vt(e))return"F";if(!gt(e,h)){if(!t)return"E";jt(e,h,++y)}return"O"+e[h]}function s(e,n){var r,i=t(n);if("F"!=i)return e[f][i];for(r=e[b];r;r=r.n)if(r.k==n)return r}function u(e,n,i){var a,u,o=s(e,n);return o?o.v=i:(e[d]=o={i:u=t(n,!0),k:n,v:i,p:a=e[d],n:r,r:!1},e[b]||(e[b]=o),a&&(a.n=o),e[v]++,"F"!=u&&(e[f][u]=o)),e}function o(e,t,n){return vt(A(t))?l(e).set(t,n):(gt(t,m)||jt(t,m,{}),t[m][e[h]]=n),e}function l(e){return e[p]||jt(e,p,new je)[p]}var h=qt("uid"),f=qt("O1"),m=qt("weak"),p=qt("leak"),d=qt("last"),b=qt("first"),v=Tt?qt("size"):"size",y=0,x={},_={clear:function(){for(var e=this,t=e[f],n=e[b];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=r),delete t[n.i];e[b]=e[d]=r,e[v]=0},"delete":function(e){var t=this,n=s(t,e);if(n){var r=n.n,i=n.p;delete t[f][n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t[b]==n&&(t[b]=r),t[d]==n&&(t[d]=i),t[v]--}return!!n},forEach:function(e){for(var t,n=c(e,arguments[1],3);t=t?t.n:this[b];)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!s(this,e)}};je=e(je,he,{get:function(e){var t=s(this,e);return t&&t.v},set:function(e,t){return u(this,0===e?0:e,t)}},_,!0),De=e(De,fe,{add:function(e){return u(this,e=0===e?0:e,e)}},_);var w={"delete":function(e){return i(e)?vt(e)?l(this)["delete"](e):gt(e,m)&&gt(e[m],this[h])&&delete e[m][this[h]]:!1},has:function(e){return i(e)?vt(e)?l(this).has(e):gt(e,m)&&gt(e[m],this[h]):!1}};qe=e(qe,me,{get:function(e){if(i(e)){if(vt(e))return l(this).get(e);if(gt(e,m))return e[m][this[h]]}},set:function(e,t){return o(this,e,t)}},w,!0,!0),n&&7!=(new qe).set(Le.freeze(x),7).get(x)&&wt.call(g("delete,has,get,set"),function(e){var t=qe[ye][e];qe[ye][e]=function(n,r){if(i(n)&&vt(n)){var s=l(this)[e](n,r);return"set"==e?this:s}return t.call(this,n,r)}}),Re=e(Re,pe,{add:function(e){return o(this,e,!0)}},w,!1,!0)}(),!function(){function e(e){var t,n=[];for(t in e)n.push(t);Dt(this,Jt,{o:e,a:n,i:0})}function t(e){return function(t){A(t);try{return e.apply(r,arguments),!0}catch(n){return!1}}}function n(e,t){var s,a=arguments.length<3?e:arguments[2],u=mt(A(e),t);return u?gt(u,"value")?u.value:u.get===r?r:u.get.call(a):i(s=ct(e))?n(s,t,a):r}function s(e,t,n){var a,u,o=arguments.length<4?e:arguments[3],l=mt(A(e),t);if(!l){if(i(u=ct(e)))return s(u,t,n,o);l=O(0)}return gt(l,"value")?l.writable!==!1&&i(o)?(a=mt(o,t)||O(0),a.value=n,ft(o,t,a),!0):!1:l.set===r?!1:(l.set.call(o,n),!0)}F(e,ie,function(){var e,t=this[Jt],n=t.a;do if(t.i>=n.length)return K(1);while(!((e=n[t.i++])in t.o));return K(0,e)});var a=Le.isExtensible||m,u={apply:c(ut,ot,3),construct:function(e,t){var n=L(arguments.length<3?e:arguments[2])[ye],r=lt(i(n)?n:tt),s=ot.call(e,r,t);return i(s)?s:r},defineProperty:t(ft),deleteProperty:function(e,t){var n=mt(A(e),t);return n&&!n.configurable?!1:delete e[t]},enumerate:function(t){return new e(A(t))},get:n,getOwnPropertyDescriptor:function(e,t){return mt(A(e),t)},getPrototypeOf:function(e){return ct(A(e))},has:function(e,t){return t in e},isExtensible:function(e){return!!a(A(e))},ownKeys:b,preventExtensions:t(Le.preventExtensions||m),set:s};ht&&(u.setPrototypeOf=function(e,t){return ht(A(e),t),!0}),z(Xt,{Reflect:{}}),z(Gt,"Reflect",u)}(),!function(){function e(e){return function(t){var n,r=f(t),i=pt(t),s=i.length,a=0,u=Ae(s);if(e)for(;s>a;)u[a]=[n=i[a++],r[n]];else for(;s>a;)u[a]=r[i[a++]];return u}}z(Yt,ae,{includes:x(!0)}),z(Yt,ue,{at:P(!0)}),z(Gt,ie,{getOwnPropertyDescriptors:function(e){var t=f(e),n={};return wt.call(b(t),function(e){ft(n,e,O(0,mt(t,e)))}),n},values:e(!1),entries:e(!0)}),z(Gt,le,{escape:E(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})}(),!function(e){function t(e){if(e){var t=e[ye];jt(t,ee,t.get),jt(t,n,t.set),jt(t,r,t["delete"])}}ee=R(e+"Get",!0);var n=R(e+fe,!0),r=R(e+"Delete",!0);z(Gt,de,{referenceGet:ee,referenceSet:n,referenceDelete:r}),jt(nt,ee,p),t(je),t(qe)}("reference"),!function(e){function t(e,t){Dt(this,Jt,{o:f(e),a:pt(e),i:0,k:t})}function n(e){return function(n){return new t(n,e)}}function s(e){var t=1==e,n=4==e;return function(i,s,a){var u,o,l,h=c(s,a,3),m=f(i),p=t||7==e||2==e?new(_(this,te)):r;for(u in m)if(gt(m,u)&&(o=m[u],l=h(o,u,i),e))if(t)p[u]=l;else if(l)switch(e){
case 2:p[u]=o;break;case 3:return!0;case 5:return o;case 6:return u;case 7:p[l[0]]=l[1]}else if(n)return!1;return 3==e||n?n:p}}function a(e){return function(t,n,i){L(n);var s,a,u,o=f(t),l=pt(o),c=l.length,h=0;for(e?s=i==r?new(_(this,te)):Le(i):arguments.length<3?(C(c,At),s=o[l[h++]]):s=Le(i);c>h;)if(gt(o,a=l[h++]))if(u=n(s,o[a],a,t),e){if(u===!1)break}else s=u;return s}}function u(e,t){return(t==t?v(e,t):o(e,w))!==r}te=function(e){var t=lt(null);return e!=r&&(X(e)?Q(e,!0,function(e,n){t[e]=n}):xt(t,e)),t},te[ye]=null,F(t,e,function(){var e,t=this[Jt],n=t.o,i=t.a,s=t.k;do if(t.i>=i.length)return t.o=r,K(1);while(!gt(n,e=i[t.i++]));return s==Qt?K(0,e):s==en?K(0,n[e]):K(0,[e,n[e]])});var o=s(6),l={keys:n(Qt),values:n(en),entries:n(Qt+en),forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findKey:o,mapPairs:s(7),reduce:a(!1),turn:a(!0),keyOf:v,includes:u,has:gt,get:d,set:D(0),isDict:function(e){return i(e)&&ct(e)===te[ye]}};if(ee)for(var m in l)!function(e){function t(){for(var t=[this],n=0;n<arguments.length;)t.push(arguments[n++]);return h(e,t)}e[ee]=function(){return t}}(l[m]);z(Xt+Kt,{Dict:I(te,l)})}("Dict"),!function(e,t){function n(t,r){return this instanceof n?(this[Jt]=G(t),void(this[e]=!!r)):new n(t,r)}function i(n){function r(n,r,i){this[Jt]=G(n),this[e]=n[e],this[t]=c(r,i,n[e]?2:1)}return F(r,"Chain",n,s),H(r[ye],p),r}F(n,"Wrapper",function(){return this[Jt].next()});var s=n[ye];H(s,function(){return this[Jt]});var a=i(function(){var n=this[Jt].next();return n.done?n:K(0,Y(this[t],n.value,this[e]))}),u=i(function(){for(;;){var n=this[Jt].next();if(n.done||Y(this[t],n.value,this[e]))return n}});I(s,{of:function(t,n){Q(this,this[e],t,n)},array:function(e,t){var n=[];return Q(e!=r?this.map(e,t):this,!1,_t,n),n},filter:function(e,t){return new u(this,e,t)},map:function(e,t){return new a(this,e,t)}}),n.isIterable=X,n.getIterator=G,z(Xt+Kt,{$for:n})}("entries",qt("fn")),z(Xt+Kt,{delay:function(e){return new Promise(function(t){Fe(t,e,!0)})}}),!function(e,t){function n(n){var i=this,s={};return jt(i,e,function(e){return e!==r&&e in i?gt(s,e)?s[e]:s[e]=c(i[e],i,-1):t.call(i)})[e](n)}Ft._=Wt._=Wt._||{},z(Yt+Kt,se,{part:l,only:function(e,t){var n=L(this),r=S(e),i=arguments.length>1;return function(){for(var e=Ct(r,arguments.length),s=Ae(e),a=0;e>a;)s[a]=arguments[a++];return h(n,s,i?t:this)}}}),jt(Wt._,_e,function(){return e}),jt(tt,e,n),Tt||jt(et,e,n)}(Tt?q("tie"):ke,tt[ke]),!function(){function e(e,t){for(var n,r=b(f(t)),i=r.length,s=0;i>s;)ft(e,n=r[s++],mt(t,n));return e}z(Gt+Kt,ie,{isObject:i,classof:o,define:e,make:function(t,n){return e(lt(t),n)}})}(),z(Yt+Kt,ae,{turn:function(e,t){L(e);for(var n=t==r?[]:Le(t),i=yt(this),s=S(i.length),a=0;s>a&&e(n,i[a],a++,this)!==!1;);return n}}),n&&(It.turn=!0),!function(e){function t(e){Dt(this,Jt,{l:S(e),i:0})}F(t,oe,function(){var e=this[Jt],t=e.i++;return t<e.l?K(0,t):K(1)}),W(Oe,oe,function(){return new t(this)}),e.random=function(e){var t=+this,n=e==r?0:+e,i=Ct(t,n);return Nt()*(Pt(t,n)-i)+i},wt.call(g("round,floor,ceil,abs,sin,asin,cos,acos,tan,atan,exp,sqrt,max,min,pow,atan2,acosh,asinh,atanh,cbrt,clz32,cosh,expm1,hypot,imul,log1p,log10,log2,sign,sinh,tanh,trunc"),function(t){var n=Be[t];n&&(e[t]=function(){for(var e=[+this],t=0;arguments.length>t;)e.push(arguments[t++]);return h(n,e)})}),z(Yt+Kt,oe,e)}({}),!function(){var e,t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},n={};for(e in t)n[t[e]]=e;z(Yt+Kt,ue,{escapeHTML:E(/[&<>"']/g,t),unescapeHTML:E(/&(?:amp|lt|gt|quot|apos);/g,n)})}(),!function(e,t,n,r,i,s,a,u,o){function l(t){return function(l,c){function h(e){return f[t+e]()}var f=this,m=n[gt(n,c)?c:r];return Te(l).replace(e,function(e){switch(e){case"s":return h(i);case"ss":return M(h(i));case"m":return h(s);case"mm":return M(h(s));case"h":return h(a);case"hh":return M(h(a));case"D":return h(ce);case"DD":return M(h(ce));case"W":return m[0][h("Day")];case"N":return h(u)+1;case"NN":return M(h(u)+1);case"M":return m[2][h(u)];case"MM":return m[1][h(u)];case"Y":return h(o);case"YY":return M(h(o)%100)}return e})}}function c(e,r){function i(e){var n=[];return wt.call(g(r.months),function(r){n.push(r.replace(t,"$"+e))}),n}return n[e]=[g(r.weekdays),i(1),i(2)],Ft}z(Yt+Kt,ce,{format:l("get"),formatUTC:l("getUTC")}),c(r,{weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",months:"January,February,March,April,May,June,July,August,September,October,November,December"}),c("ru",{weekdays:",,,,,,",months:":|,:|,:|,:|,:|,:|,:|,:|,:|,:|,:|,:|"}),Ft.locale=function(e){return gt(n,e)?r=e:r},Ft.addLocale=c}(/\b\w\w?\b/g,/:(.*)\|(.*)$/,{},"en","Seconds","Minutes","Hours","Month","FullYear"),z(Xt+Kt,{global:e}),!function(e){function t(t,n){wt.call(g(t),function(t){t in et&&(e[t]=c(ut,et[t],n))})}t("pop,reverse,shift,keys,values,entries",1),t("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),t("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),z(Gt,ae,e)}({}),!function(e){!n||!e||ne in e[ye]||jt(e[ye],ne,tn[ae]),tn.NodeList=tn[ae]}(e.NodeList),!function(e,t){wt.call(g("assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,isIndependentlyComposed,log,markTimeline,profile,profileEnd,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn"),function(n){e[n]=function(){return t&&n in Qe?ot.call(Qe[n],Qe,arguments):void 0}}),z(Xt+Kt,{log:xt(e.log,e,{enable:function(){t=!0},disable:function(){t=!1}})})}({},!0)}("undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),!1),t.exports={"default":t.exports,__esModule:!0}},{}],43:[function(e,t,n){"use strict";n["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n.__esModule=!0},{}],44:[function(e,t,n){"use strict";n["default"]=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n.__esModule=!0},{}],45:[function(e,t,n){"use strict";n["default"]=function(){function e(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i.configurable=!0,i.value&&(i.writable=!0),n[i.key]=i}Object.defineProperties(e,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n.__esModule=!0},{}],46:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js")["default"];n["default"]=function(e,t,n){for(var i=!0;i;){i=!1;var s=e,a=t,u=n;o=c=l=void 0;var o=r.Object.getOwnPropertyDescriptor(s,a);{if(void 0!==o){if("value"in o&&o.writable)return o.value;var l=o.get;return void 0===l?void 0:l.call(u)}var c=r.Object.getPrototypeOf(s);if(null===c)return void 0;e=c,t=a,n=u,i=!0}}},n.__esModule=!0},{"babel-runtime/core-js":42}],47:[function(e,t,n){"use strict";n["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},n.__esModule=!0},{}],48:[function(e,t,n){"use strict";n["default"]=function(e){return e&&e.__esModule?e["default"]:e},n.__esModule=!0},{}],49:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js")["default"];n["default"]=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return r.Array.from(e)},n.__esModule=!0},{"babel-runtime/core-js":42}],50:[function(e,t,n){(function(n){var r="object"==typeof n?n:"object"==typeof window?window:this,i=Object.prototype.hasOwnProperty,s=i.call(r,"regeneratorRuntime"),a=s&&r.regeneratorRuntime;delete r.regeneratorRuntime,t.exports=e("./runtime"),s?r.regeneratorRuntime=a:delete r.regeneratorRuntime,t.exports={"default":t.exports,__esModule:!0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./runtime":51}],51:[function(e,t,n){(function(n){"use strict";var r=e("babel-runtime/core-js")["default"];!function(e){function n(e,t,n,r){return new u(e,t,n||null,r||[])}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function s(){}function a(){}function u(e,t,n,r){function s(t,r){if(o===x)throw new Error("Generator is already running");if(o===_)return f();for(;;){var s=u.delegate;if(s){var a=i(s.iterator[t],s.iterator,r);if("throw"===a.type){u.delegate=null,t="throw",r=a.arg;continue}t="next",r=m;var l=a.arg;if(!l.done)return o=y,l;u[s.resultName]=l.value,u.next=s.nextLoc,u.delegate=null}if("next"===t){if(o===g&&"undefined"!=typeof r)throw new TypeError("attempt to send "+JSON.stringify(r)+" to newborn generator");o===y?u.sent=r:delete u.sent}else if("throw"===t){if(o===g)throw o=_,r;u.dispatchException(r)&&(t="next",r=m)}else"return"===t&&u.abrupt("return",r);o=x;var a=i(e,n,u);if("normal"===a.type){o=u.done?_:y;var l={value:a.arg,done:u.done};if(a.arg!==w)return l;u.delegate&&"next"===t&&(r=m)}else"throw"===a.type&&(o=_,"next"===t?u.dispatchException(a.arg):r=a.arg)}}var a=t?Object.create(t.prototype):this,u=new c(r),o=g;return a.next=s.bind(a,"next"),a["throw"]=s.bind(a,"throw"),a["return"]=s.bind(a,"return"),a}function o(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function c(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(o,this),this.reset()}function h(e){if(e){var t=e[d];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function i(){for(;++n<e.length;)if(p.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=m,i.done=!0,i};return r.next=r}}return{next:f}}function f(){return{value:m,done:!0}}var m,p=Object.prototype.hasOwnProperty,d="function"==typeof r.Symbol&&r.Symbol.iterator||"@@iterator",b="object"==typeof t,v=e.regeneratorRuntime;if(v)return void(b&&(t.exports=v));v=e.regeneratorRuntime=b?t.exports:{},v.wrap=n;var g="suspendedStart",y="suspendedYield",x="executing",_="completed",w={},k=a.prototype=u.prototype;s.prototype=k.constructor=a,a.constructor=s,s.displayName="GeneratorFunction",v.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===s||"GeneratorFunction"===(t.displayName||t.name):!1},v.mark=function(e){return e.__proto__=a,e.prototype=Object.create(k),e},v.async=function(e,t,s,a){return new r.Promise(function(u,o){function l(e){var t=i(this,null,e);if("throw"===t.type)return void o(t.arg);var n=t.arg;n.done?u(n.value):r.Promise.resolve(n.value).then(h,f)}var c=n(e,t,s,a),h=l.bind(c.next),f=l.bind(c["throw"]);h()})},k[d]=function(){return this},k.toString=function(){return"[object Generator]"},v.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},v.values=h,c.prototype={constructor:c,reset:function(){this.prev=0,this.next=0,this.sent=m,this.done=!1,this.delegate=null,this.tryEntries.forEach(l);for(var e,t=0;p.call(this,e="t"+t)||20>t;++t)this[e]=null},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return s.type="throw",s.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=p.call(i,"catchLoc"),u=p.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&p.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?this.next=i.finallyLoc:this.complete(s),w},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc)}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;l(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},w}}}("object"==typeof n?n:"object"==typeof window?window:void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js":42}],52:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function s(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!s(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,o,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],u(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,s=new Array(r-1),o=1;r>o;o++)s[o-1]=arguments[o];n.apply(this,s)}else if(a(n)){for(r=arguments.length,s=new Array(r-1),o=1;r>o;o++)s[o-1]=arguments[o];for(l=n.slice(),r=l.length,o=0;r>o;o++)l[o].apply(this,s)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var n;n=u(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,s,u;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(u=s;u-->0;)if(n[u]===t||n[u].listener&&n[u].listener===t){r=u;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],53:[function(t,n,r){"undefined"==typeof Map&&(Map=function(){this.clear()},Map.prototype={set:function(e,t){return this._[e]=t,this},get:function(e){return this._[e]},has:function(e){return e in this._},"delete":function(e){return e in this._&&delete this._[e]},clear:function(){this._=Object.create(null)},get size(){var e=0;for(var t in this._)++e;return e},forEach:function(e){for(var t in this._)e(this._[t],t,this)}}),function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.scale={})}(this,function(e){"use strict";function t(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function n(e){return function(n,r){return t(e(n),r)}}function r(e){return 1===e.length&&(e=n(e)),{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}function i(e,t,n){function r(r){return r>=r?t[ve(e,r,0,n)]:void 0}return r.domain=function(i){return arguments.length?(e=i.slice(),n=Math.min(e.length,t.length-1),r):e.slice()},r.range=function(i){return arguments.length?(t=i.slice(),n=Math.min(e.length,t.length-1),r):t.slice()},r.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},r.copy=function(){return i(e,t)},r}function s(){return i([.5],[0,1],1)}function a(e,t){return e=+e,t-=e,function(n){return e+t*n}}function u(e,t){var n,r={},i={};for(n in e)n in t?r[n]=w(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function o(e,t){var n,r=[],i=[],s=e.length,a=t.length,u=Math.min(e.length,t.length);for(n=0;u>n;++n)r.push(w(e[n],t[n]));for(;s>n;++n)i[n]=e[n];for(;a>n;++n)i[n]=t[n];return function(e){for(n=0;u>n;++n)i[n]=r[n](e);return i}}function l(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),isNaN(n)&&(n=0),"#"+(16>e?"0"+e.toString(16):e.toString(16))+(16>t?"0"+t.toString(16):t.toString(16))+(16>n?"0"+n.toString(16):n.toString(16))}function c(e,t,n){this.r=Math.max(0,Math.min(255,Math.round(e))),this.g=Math.max(0,Math.min(255,Math.round(t))),this.b=Math.max(0,Math.min(255,Math.round(n)))}function h(){}function f(e){return v(e>>16&255,e>>8&255,255&e)}function m(e,t,n){this.h=+e,this.s=Math.max(0,Math.min(1,+t)),this.l=Math.max(0,Math.min(1,+n))}function p(e,t,n){return 255*(60>e?t+(n-t)*e/60:180>e?n:240>e?t+(n-t)*(240-e)/60:t)}function d(e,t,n){if(1===arguments.length)if(e instanceof m)n=e.l,t=e.s,e=e.h;else if(e instanceof h||(e=b(e)),e){if(e instanceof m)return e;e=e.rgb();var r=e.r/255,i=e.g/255,s=e.b/255,a=Math.min(r,i,s),u=Math.max(r,i,s),o=u-a;n=(u+a)/2,o?(t=.5>n?o/(u+a):o/(2-u-a),e=r===u?(i-s)/o+6*(s>i):i===u?(s-r)/o+2:(r-i)/o+4,e*=60):(e=NaN,t=n>0&&1>n?0:e)}else e=t=n=NaN;return new m(e,t,n)}function b(e){var t;return e=(e+"").trim().toLowerCase(),(t=Pe.exec(e))?(t=parseInt(t[1],16),v(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t)):(t=Ee.exec(e))?f(parseInt(t[1],16)):(t=Me.exec(e))?v(t[1],t[2],t[3]):(t=$e.exec(e))?v(2.55*t[1],2.55*t[2],2.55*t[3]):(t=Se.exec(e))?d(t[1],.01*t[2],.01*t[3]):_e.has(e)?f(_e.get(e)):null}function v(e,t,n){return 1===arguments.length&&(e instanceof h||(e=b(e)),e?(e=e.rgb(),n=e.b,t=e.g,e=e.r):e=t=n=NaN),new c(e,t,n)}function g(e,t){e=v(e),t=v(t);var n=e.r,r=e.g,i=e.b,s=t.r-n,a=t.g-r,u=t.b-i;return function(e){return l(Math.round(n+s*e),Math.round(r+a*e),Math.round(i+u*e))}}function y(e){return function(){return e}}function x(e){return function(t){return e(t)+""}}function _(e,t){var n,r,i,s=Ce.lastIndex=Ne.lastIndex=0,u=-1,o=[],l=[];for(e+="",t+="";(n=Ce.exec(e))&&(r=Ne.exec(t));)(i=r.index)>s&&(i=t.slice(s,i),o[u]?o[u]+=i:o[++u]=i),(n=n[0])===(r=r[0])?o[u]?o[u]+=r:o[++u]=r:(o[++u]=null,l.push({i:u,x:a(n,r)})),s=Ne.lastIndex;return s<t.length&&(i=t.slice(s),o[u]?o[u]+=i:o[++u]=i),o.length<2?l[0]?x(l[0].x):y(t):(t=l.length,function(e){for(var n,r=0;t>r;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function w(e,t){for(var n,r=Le.length;--r>=0&&!(n=Le[r](e,t)););return n}function k(e,t){null==t&&(t=10);var n=e[0],r=e[e.length-1];n>r&&(a=r,r=n,n=a);var i=r-n,s=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),a=i/t/s;return a>=Oe?s*=10:a>=Te?s*=5:a>=Ae&&(s*=2),[Math.ceil(n/s)*s,Math.floor(r/s)*s+s/2,s]}function S(e,t){if(e=e.slice(),!t)return e;var n,r=0,i=e.length-1,s=e[r],a=e[i];return s>a&&(n=r,r=i,i=n,n=s,s=a,a=n),e[r]=Math.floor(s/t)*t,e[i]=Math.ceil(a/t)*t,e}function $(e,t){if((n=(e=e.toExponential(t&&t-1)).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function M(e){return e=$(Math.abs(e)),e?e[1]:NaN}function E(e,t){var n=$(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(ke=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+$(e,t+s-1)[0]}function P(e,t){var n=$(e,t);if(!n)return e+"";var r=n[0],i=n[1];return 0>i?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function C(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,s=-1;r>i;++i)switch(e[i]){case".":s=n=i;break;case"0":0===s&&(s=i),n=i;break;case"e":break e;default:s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(n+1):e}function N(e){if(!(t=qe.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",s=t[4]||"",a=!!t[5],u=t[6]&&+t[6],o=!!t[7],l=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(o=!0,c="g"):De[c]||(c=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=s,this.zero=a,this.width=u,this.comma=o,this.precision=l,this.type=c}function L(e){return new N(e)}function A(e){return e}function T(e,t){return function(n,r){for(var i=n.length,s=[],a=0,u=e[0],o=0;i>0&&u>0&&(o+u+1>r&&(u=Math.max(1,r-o)),s.push(n.substring(i-=u,i+u)),!((o+=u+1)>r));)u=e[a=(a+1)%e.length];return s.reverse().join(t)}}function O(e){function t(e){e=L(e);var t=e.fill,n=e.align,a=e.sign,u=e.symbol,o=e.zero,l=e.width,c=e.comma,h=e.precision,f=e.type,m="$"===u?i[0]:"#"===u&&/[boxX]/.test(f)?"0"+f.toLowerCase():"",p="$"===u?i[1]:/[%p]/.test(f)?"%":"",d=De[f],b=!f||/[defgprs%]/.test(f);return h=null==h?f?6:12:/[gprs]/.test(f)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),function(e){var i=m,u=p;if("c"===f)u=d(e)+u,e="";else{e=+e;var v=(0>e||0>1/e)&&(e*=-1,!0);if(e=d(e,h),i=(v?"("===a?a:"-":"-"===a||"("===a?"":a)+i,u=u+("s"===f?je[8+ke/3]:"")+(v&&"("===a?")":""),b)for(var g,y=-1,x=e.length;++y<x;)if(g=e.charCodeAt(y),48>g||g>57){u=(46===g?s+e.slice(y+1):e.slice(y))+u,e=e.slice(0,y);break}}c&&!o&&(e=r(e,1/0));var _=i.length+e.length+u.length,w=l>_?new Array(l-_+1).join(t):"";switch(c&&o&&(e=r(w+e,w.length?l-u.length:1/0),w=""),n){case"<":return i+e+u+w;case"=":return i+w+e+u;case"^":return w.slice(0,_=w.length>>1)+i+e+u+w.slice(_)}return w+i+e+u}}function n(e,n){var r=t((e=L(e),e.type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(M(n)/3))),s=Math.pow(10,-i),a=je[8+i/3];return function(e){return r(s*e)+a}}var r=e.grouping&&e.thousands?T(e.grouping,e.thousands):A,i=e.currency,s=e.decimal;return{format:t,formatPrefix:n}}function j(e){return Math.max(0,-M(Math.abs(e)))}function D(e,t){return Math.max(0,M(Math.abs(t))-M(Math.abs(e)))+1}function q(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(M(t)/3)))-M(Math.abs(e)))}function R(e,t,n){var r=k(e,t);if(null==n)n=",."+j(r[2])+"f";else switch(n=L(n),n.type){case"s":var i=Math.max(Math.abs(r[0]),Math.abs(r[1]));return null==n.precision&&(n.precision=q(r[2],i)),Be(n,i);case"":case"e":case"g":case"p":case"r":null==n.precision&&(n.precision=D(r[2],Math.max(Math.abs(r[0]),Math.abs(r[1])))-("e"===n.type));break;case"f":case"%":null==n.precision&&(n.precision=j(r[2])-2*("%"===n.type))}return Ie(n)}function I(e){for(var t=1;e*t%1;)t*=10;return t}function B(e,t,n){(i=arguments.length)<3&&(n=1,2>i&&(t=e,e=0));var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),s=I(Math.abs(n)),a=new Array(i);for(e*=s,n*=s;++r<i;)a[r]=(e+r*n)/s;return a}function z(e,t){return B.apply(null,k(e,t))}function H(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}}function F(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function W(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function U(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function K(e,t,n,r){var i=Math.min(e.length,t.length)-1,s=new Array(i),a=new Array(i),u=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<i;)s[u]=n(e[u],e[u+1]),a[u]=r(t[u],t[u+1]);return function(t){var n=ve(e,t,1,i)-1;return a[n](s[n](t))}}function X(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?K:U,l=r?W:F;return u=i(e,t,l,n),o=i(t,e,l,a),s}function s(e){return u(e)}var u,o;return s.invert=function(e){return o(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),i()):e.slice()},s.range=function(e){return arguments.length?(t=e.slice(),i()):t.slice()},s.rangeRound=function(e){return s.range(e).interpolate(H)},s.clamp=function(e){return arguments.length?(r=!!e,i()):r},s.interpolate=function(e){return arguments.length?(n=e,i()):n},s.ticks=function(t){return z(e,t)},s.tickFormat=function(t,n){return R(e,t,n)},s.nice=function(t){return e=S(e,k(e,t)[2]),i()},s.copy=function(){return X(e,t,n,r)},i()}function G(){return X([0,1],[0,1],w,!1)}function Y(e,t){return e.range=function(){var n=t.range.apply(t,arguments);return n===t?e:n},e.rangeRound=function(){var n=t.rangeRound.apply(t,arguments);return n===t?e:n},e.clamp=function(){var n=t.clamp.apply(t,arguments);return n===t?e:n},e.interpolate=function(){var n=t.interpolate.apply(t,arguments);return n===t?e:n},e}function V(e,t,n){function r(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}function i(e){return 0>e?-Math.pow(-e,1/t):Math.pow(e,1/t)}function s(t){return e(r(t))}return s.invert=function(t){return i(e.invert(t))},s.exponent=function(e){return arguments.length?(t=+e,s.domain(n)):t},s.domain=function(t){return arguments.length?(n=t.map(Number),e.domain(n.map(r)),s):n.slice()},s.ticks=function(e){return z(n,e)},s.tickFormat=function(e,t){return R(n,e,t)},s.nice=function(e){return s.domain(S(n,k(n,e)[2]))},s.copy=function(){return V(e.copy(),t,n)},Y(s,e)}function Z(){return V(G(),.5,[0,1])}function J(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(s*(t-e))))]}function i(){return s=n.length/(t-e),a=n.length-1,r}var s,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e.slice(),i()):n.slice()},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?NaN:t/s+e,[t,t+1/s]},r.copy=function(){return J(e,t,n)},i()}function Q(){return J(0,1,[0,1])}function ee(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],s=n-r;return s?i+s*(e[r]-i):i}function te(e,n){function r(){var t=0,r=n.length;for(s=[];++t<r;)s[t-1]=ee(e,t/r);return i}function i(e){return isNaN(e=+e)?void 0:n[ve(s,e)]}var s;return i.domain=function(n){if(!arguments.length)return e;e=[];for(var i,s=0,a=n.length;a>s;++s)i=n[s],null==i||isNaN(i=+i)||e.push(i);return e.sort(t),r()},i.range=function(e){return arguments.length?(n=e.slice(),r()):n.slice()},i.quantiles=function(){return s},i.invertExtent=function(t){return t=n.indexOf(t),0>t?[NaN,NaN]:[t>0?s[t-1]:e[0],t<s.length?s[t]:e[e.length-1]]},i.copy=function(){return te(e,n)},r()}function ne(){return te([],[])}function re(){return V(G(),1,[0,1])}function ie(e,t,n){for(var r=new Array(e),i=-1;++i<e;)r[i]=t+n*i;return r}function se(e,t){function n(n){var s=n+"",a=r.get(s);if(!a){if("range"!==t.t)return;r.set(s,a=e.push(n))}return i[(a-1)%i.length]}var r,i,s;return n.domain=function(i){if(!arguments.length)return e.slice();e=[],r=new Map;for(var s,a,u=-1,o=i.length;++u<o;)r.has(a=(s=i[u])+"")||r.set(a,e.push(s));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(i=e.slice(),s=0,t={t:"range",a:arguments},n):i.slice()},n.rangePoints=function(r,a){a=arguments.length<2?0:+a;var u=+r[0],o=+r[1],l=e.length<2?(u=(u+o)/2,0):(o-u)/(e.length-1+a);return i=ie(e.length,u+l*a/2,l),s=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,a){a=arguments.length<2?0:+a;var u=+r[0],o=+r[1],l=e.length<2?(u=o=Math.round((u+o)/2),0):(o-u)/(e.length-1+a)|0;return i=ie(e.length,u+Math.round(l*a/2+(o-u-(e.length-1+a)*l)/2),l),s=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,a,u){a=arguments.length<2?0:+a,u=arguments.length<3?a:+u;var o=+r[1]<+r[0],l=+r[o-0],c=+r[1-o],h=(c-l)/(e.length-a+2*u);return i=ie(e.length,l+h*u,h),o&&i.reverse(),s=h*(1-a),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,a,u){a=arguments.length<2?0:+a,u=arguments.length<3?a:+u;var o=+r[1]<+r[0],l=+r[o-0],c=+r[1-o],h=Math.floor((c-l)/(e.length-a+2*u));return i=ie(e.length,l+Math.round((c-l-(e.length-a)*h)/2),h),o&&i.reverse(),s=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){var e=t.a[0],n=e[0],r=e[e.length-1];return n>r&&(e=r,r=n,n=e),[n,r]},n.copy=function(){return se(e,t)},n.domain(e)}function ae(){return se([],{t:"range",a:[[]]})}function ue(e,t,n){function r(e){return(n[0]<0?-Math.log(e>0?0:-e):Math.log(0>e?0:e))/Math.log(t)}function i(e){return n[0]<0?-Math.pow(t,-e):Math.pow(t,e)}function s(t){return e(r(t))}return s.invert=function(t){return i(e.invert(t))},s.base=function(e){return arguments.length?(t=+e,s.domain(n)):t},s.domain=function(t){return arguments.length?(n=t.map(Number),e.domain(n.map(r)),s):n.slice()},s.nice=function(){var t=S(e.domain(),1);return e.domain(t),n=t.map(i),s},s.ticks=function(){var e=n[0],s=n[n.length-1];e>s&&(o=e,e=s,s=o);var a,u,o=Math.floor(r(e)),l=Math.ceil(r(s)),c=t%1?2:t,h=[];if(isFinite(l-o))if(e>0){for(--l,a=1;c>a;++a){if((u=i(o)*a)<e)continue;h.push(u)}for(;++o<l;)for(a=1;c>a;++a)h.push(i(o)*a);for(a=1;c>a&&!((u=i(o)*a)>s);++a)h.push(u)}else{for(++o,a=c-1;a>=1;--a){if((u=i(o)*a)<e)continue;h.push(u)}for(;++o<l;)for(a=c-1;a>=1;--a)h.push(i(o)*a);for(a=c-1;a>=1&&!((u=i(o)*a)>s);--a)h.push(u)}return h},s.tickFormat=function(e,a){if(null==a?a=10===t?He:ze:"function"!=typeof a&&(a=Ie(a)),null==e)return a;var u,o=Math.min(t,s.ticks().length/e),l=n[0]>0?(u=1e-12,Math.ceil):(u=-1e-12,Math.floor);return function(e){return i(l(r(e)+u))/e>=o?a(e):""}},s.copy=function(){return ue(e.copy(),t,n)},Y(s,e)}function oe(){return ue(G(),10,[1,10])}function le(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(Number),t):e.slice()},t.ticks=function(t){return z(e,t)},t.tickFormat=function(t,n){return R(e,t,n)},t.copy=function(){return le(e)},t}function ce(){return le([0,1])}function he(){return ae().range(["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"])}function fe(){return ae().range(["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"])}function me(){
return ae().range(["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"])}function pe(){return ae().range(["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"])}var de=r(t),be=de.right,ve=be;h.prototype={toString:function(){return this.rgb()+""}};var ge=c.prototype=new h,ye=.7;ge.darker=function(e){return e=null==e?ye:Math.pow(ye,e),new c(this.r*e,this.g*e,this.b*e)};var xe=1/ye;ge.brighter=function(e){return e=null==e?xe:Math.pow(xe,e),new c(this.r*e,this.g*e,this.b*e)},ge.rgb=function(){return this},ge.toString=function(){return l(this.r,this.g,this.b)};var _e=(new Map).set("aliceblue",15792383).set("antiquewhite",16444375).set("aqua",65535).set("aquamarine",8388564).set("azure",15794175).set("beige",16119260).set("bisque",16770244).set("black",0).set("blanchedalmond",16772045).set("blue",255).set("blueviolet",9055202).set("brown",10824234).set("burlywood",14596231).set("cadetblue",6266528).set("chartreuse",8388352).set("chocolate",13789470).set("coral",16744272).set("cornflowerblue",6591981).set("cornsilk",16775388).set("crimson",14423100).set("cyan",65535).set("darkblue",139).set("darkcyan",35723).set("darkgoldenrod",12092939).set("darkgray",11119017).set("darkgreen",25600).set("darkgrey",11119017).set("darkkhaki",12433259).set("darkmagenta",9109643).set("darkolivegreen",5597999).set("darkorange",16747520).set("darkorchid",10040012).set("darkred",9109504).set("darksalmon",15308410).set("darkseagreen",9419919).set("darkslateblue",4734347).set("darkslategray",3100495).set("darkslategrey",3100495).set("darkturquoise",52945).set("darkviolet",9699539).set("deeppink",16716947).set("deepskyblue",49151).set("dimgray",6908265).set("dimgrey",6908265).set("dodgerblue",2003199).set("firebrick",11674146).set("floralwhite",16775920).set("forestgreen",2263842).set("fuchsia",16711935).set("gainsboro",14474460).set("ghostwhite",16316671).set("gold",16766720).set("goldenrod",14329120).set("gray",8421504).set("green",32768).set("greenyellow",11403055).set("grey",8421504).set("honeydew",15794160).set("hotpink",16738740).set("indianred",13458524).set("indigo",4915330).set("ivory",16777200).set("khaki",15787660).set("lavender",15132410).set("lavenderblush",16773365).set("lawngreen",8190976).set("lemonchiffon",16775885).set("lightblue",11393254).set("lightcoral",15761536).set("lightcyan",14745599).set("lightgoldenrodyellow",16448210).set("lightgray",13882323).set("lightgreen",9498256).set("lightgrey",13882323).set("lightpink",16758465).set("lightsalmon",16752762).set("lightseagreen",2142890).set("lightskyblue",8900346).set("lightslategray",7833753).set("lightslategrey",7833753).set("lightsteelblue",11584734).set("lightyellow",16777184).set("lime",65280).set("limegreen",3329330).set("linen",16445670).set("magenta",16711935).set("maroon",8388608).set("mediumaquamarine",6737322).set("mediumblue",205).set("mediumorchid",12211667).set("mediumpurple",9662683).set("mediumseagreen",3978097).set("mediumslateblue",8087790).set("mediumspringgreen",64154).set("mediumturquoise",4772300).set("mediumvioletred",13047173).set("midnightblue",1644912).set("mintcream",16121850).set("mistyrose",16770273).set("moccasin",16770229).set("navajowhite",16768685).set("navy",128).set("oldlace",16643558).set("olive",8421376).set("olivedrab",7048739).set("orange",16753920).set("orangered",16729344).set("orchid",14315734).set("palegoldenrod",15657130).set("palegreen",10025880).set("paleturquoise",11529966).set("palevioletred",14381203).set("papayawhip",16773077).set("peachpuff",16767673).set("peru",13468991).set("pink",16761035).set("plum",14524637).set("powderblue",11591910).set("purple",8388736).set("rebeccapurple",6697881).set("red",16711680).set("rosybrown",12357519).set("royalblue",4286945).set("saddlebrown",9127187).set("salmon",16416882).set("sandybrown",16032864).set("seagreen",3050327).set("seashell",16774638).set("sienna",10506797).set("silver",12632256).set("skyblue",8900331).set("slateblue",6970061).set("slategray",7372944).set("slategrey",7372944).set("snow",16775930).set("springgreen",65407).set("steelblue",4620980).set("tan",13808780).set("teal",32896).set("thistle",14204888).set("tomato",16737095).set("turquoise",4251856).set("violet",15631086).set("wheat",16113331).set("white",16777215).set("whitesmoke",16119285).set("yellow",16776960).set("yellowgreen",10145074),we=m.prototype=new h;we.brighter=function(e){return e=null==e?xe:Math.pow(xe,e),new m(this.h,this.s,this.l*e)},we.darker=function(e){return e=null==e?ye:Math.pow(ye,e),new m(this.h,this.s,this.l*e)},we.rgb=function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=.5>=n?n*(1+t):n+t-n*t,i=2*n-r;return new c(p(e>=240?e-240:e+120,i,r),p(e,i,r),p(120>e?e+240:e-120,i,r))};var ke,Se=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,$e=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,Me=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,Ee=/^#([0-9a-f]{6})$/,Pe=/^#([0-9a-f]{3})$/,Ce=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ne=new RegExp(Ce.source,"g"),Le=[function(e,t){var n,r=typeof t;return("string"===r?(n=b(t))?(t=n,g):_:t instanceof b?g:Array.isArray(t)?o:"object"===r&&isNaN(t)?u:a)(e,t)}],Ae=Math.sqrt(2),Te=Math.sqrt(10),Oe=Math.sqrt(50),je=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],De={"":C,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return P(100*e,t)},r:P,s:E,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},qe=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;N.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Re=O({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Ie=Re.format,Be=Re.formatPrefix,ze=Ie(","),He=Ie(".0e");e.category10=pe,e.category20=me,e.category20b=fe,e.category20c=he,e.identity=ce,e.linear=G,e.log=oe,e.ordinal=ae,e.pow=re,e.quantile=ne,e.quantize=Q,e.sqrt=Z,e.threshold=s})},{}],54:[function(t,n,r){"undefined"==typeof Map&&(Map=function(){},Map.prototype={set:function(e,t){return this["$"+e]=t,this},get:function(e){return this["$"+e]},has:function(e){return"$"+e in this}}),function(t,i){"object"==typeof r&&"undefined"!=typeof n?n.exports=i():"function"==typeof e&&e.amd?e(i):t.d3=i()}(this,function(){"use strict";function e(e,t){this._root=e,this._depth=t,this._enter=this._update=this._exit=null}function t(e,t,n){var r=g(e),i=r.CustomEvent;i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function n(){}function r(e){return function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e(t)}}function i(e,t,n){return function(r){for(var i=t.length,s=w;--i>=0;)n[i<<1]=t[i].__data__;w=r;try{e.apply(t[0],n)}finally{w=s}}}function s(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return e=C(e),e.local?n:t}function a(e){return e.trim().replace(/\s+/g," ")}function u(e){var t;return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);t||(t=new RegExp("(?:^|\\s+)"+_(e)+"(?:\\s+|$)","g"));var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",a(i+" "+e))):n.setAttribute("class",a(i.replace(t," ")))}}function o(e,t){var n,r=-1,i=e.length;if(--t){for(;++r<i;)if((n=e[r])&&(n=o(n,t)))return n}else for(;++r<i;)if(n=e[r])return n}function l(e,t){var n,r=-1,i=e.length;if(--t)for(;++r<i;)(n=e[r])&&(e[r]=l(n,t));else if(!Array.isArray(e)){for(var s=new Array(i);++r<i;)s[r]=e[r];s._parent=e._parent,e=s}return e}function c(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function h(e,t){var n,r,i=e.length;if(--t)for(;--i>=0;)(n=e[i])&&h(n,t);else for(r=e[--i];--i>=0;)(n=e[i])&&(r&&r!==n.nextSibling&&r.parentNode.insertBefore(n,r),r=n)}function f(e,t){var n,r=-1,i=e.length,s=new Array(i);if(--t)for(;++r<i;)(n=e[r])&&(s[r]=f(n,t));return s._parent=e._parent,s}function m(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function p(e){return function(){return e}}function d(e){return function(){return this.querySelectorAll(e)}}function b(){return new e([document.documentElement],1)}var v="undefined"!=typeof navigator&&/WebKit/.test(navigator.userAgent)?-1:0,g=function(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)},y=function(e,n){function r(){return t(this,e,n)}function i(){return t(this,e,n.apply(this,arguments))}return this.each("function"==typeof n?i:r)},x=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_=function(e){return e.replace(x,"\\$&")},w=null,k=new Map,S=function(e,t,s){function a(){for(var n=f,a=arguments.length>>1,o=new Array(a);--a>=0;)n=n[arguments[(a<<1)+1]],o[a]=a?n._parent:n;var c=i(t,o,arguments);l&&(c=r(c)),u.call(this),this.addEventListener(e,this[h]=c,c._capture=s),c._listener=t}function u(){var t=this[h];t&&(this.removeEventListener(e,t,t._capture),delete this[h])}function o(){var t,n=new RegExp("^__on([^.]+)"+_(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i._capture),delete this[r]}}var l,c=arguments.length,h="__on"+e,f=this._root;return 2>c?(c=this.node()[h])&&c._listener:(3>c&&(s=!1),(c=e.indexOf("."))>0&&(e=e.slice(0,c)),(l=k.has(e))&&(e=k.get(e)),this.each(t?c?a:n:c?u:o))},$=function(e){return arguments.length?this.property("__data__",e):this.node().__data__},M=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},E=function(e){return function(){return this.querySelector(e)}},P=(new Map).set("svg","http://www.w3.org/2000/svg").set("xhtml","http://www.w3.org/1999/xhtml").set("xlink","http://www.w3.org/1999/xlink").set("xml","http://www.w3.org/XML/1998/namespace").set("xmlns","http://www.w3.org/2000/xmlns/"),C=function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),P.has(n)?{space:P.get(n),local:e}:e},N=function(e,t){function n(){return this.appendChild(e.apply(this,arguments))}function r(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}return"function"!=typeof e&&(e=s(e)),this.select(arguments.length<2?n:("function"!=typeof t&&(t=E(t)),r))},L=function(e){function t(){this.innerHTML=e}function n(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}return arguments.length?(null==e&&(e=""),this.each("function"==typeof e?n:t)):this.node().innerHTML},A=function(e){function t(){this.textContent=e}function n(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}return arguments.length?(null==e&&(e=""),this.each("function"==typeof e?n:t)):this.node().textContent},T=function(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=(e+"").trim().split(/^|\s+/);var i=e.length;if(arguments.length<2){var s=this.node(),a=-1;if(t=s.classList){for(;++a<i;)if(!t.contains(e[a]))return!1}else for(t=s.getAttribute("class");++a<i;)if(!classedRe(e[a]).test(t))return!1;return!0}return e=e.map(u),this.each("function"==typeof t?r:n)},O=function(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return arguments.length<2?this.node()[e]:this.each(null==t?n:"function"==typeof t?i:r)},j=function(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}var a=arguments.length;return 2>a?g(a=this.node()).getComputedStyle(a,null).getPropertyValue(e):(3>a&&(n=""),this.each(null==t?r:"function"==typeof t?s:i))},D=function(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function s(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function u(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}if(e=C(e),arguments.length<2){var o=this.node();return e.local?o.getAttributeNS(e.space,e.local):o.getAttribute(e)}return this.each(null==t?e.local?r:n:"function"==typeof t?e.local?u:a:e.local?s:i)},q=function(e){function t(n,i){var s,a=-1,u=n.length;if(--i)for(var o=2*i,l=o+1;++a<u;)(s=n[a])&&(r[o]=s._parent.__data__,r[l]=a,t(s,i));else for(;++a<u;)(s=n[a])&&(r[0]=s.__data__,r[1]=a,e.apply(s,r))}var n=this._depth,r=new Array(n);return t(this._root,n),this},R=function(){return!this.node()},I=function(){var e=0;return this.each(function(){++e}),e},B=function(){return o(this._root,this._depth)},z=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},H=function(){var e=arguments[0];return e.apply(arguments[0]=this,arguments),this},F=function(e){return e._root=l(e._root,e._depth)},W=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}function n(e,r){if(--r)for(var i,s=-1,a=e.length;++s<a;)(i=e[s])&&n(i,r);else e.sort(t)}return e||(e=c),n(F(this),this._depth),this.order()},U=function(){return h(this._root,this._depth),this},K=function(t){return new e(f(F(t),t._depth),t._depth)},X=function(){return this._exit||(this._exit=K(this))},G=function(){return this._enter||(this._enter=K(this),this._enter._update=this),this._enter};m.prototype={appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t||this._next)}};var Y=function(e,t){function n(t,r,i,s){var a,u,c=-1;if(s--){var h=2*s,f=h+1;for(a=t.length;++c<a;)(u=t[c])&&(o[h]=u._parent.__data__,o[f]=c,n(u,r[c],i[c],s))}else{var m,p=0;for(l(t,r,i,e.apply(t._parent,o)),a=t.length;++c<a;)if(m=r[c]){for(c>=p&&(p=c+1);!(u=t[p])&&++p<a;);m._next=u||null}}}function r(e,t,n,r){var i,s=0,a=e.length,u=r.length,o=Math.min(a,u);for(t.length=0,t.length=u,n.length=0,n.length=a;o>s;++s)(i=e[s])?i.__data__=r[s]:t[s]=new m(e._parent,r[s]);for(;u>s;++s)t[s]=new m(e._parent,r[s]);for(;a>s;++s)(i=e[s])&&(n[s]=e[s]);e.length=u}function i(e,n,r,i){var s,a,u,l=i.length,c=e.length,h=new Map,f=new Array(2).concat(o),p=new Array(c);for(n.length=0,n.length=l,r.length=0,r.length=c,s=0;c>s;++s)(a=e[s])&&(f[0]=a.__data__,f[1]=s,p[s]=u=t.apply(a,f),h.has(u)?r[s]=a:h.set(u,a));for(e.length=0,e.length=l,s=0;l>s;++s)f[0]=i[s],f[1]=s,u=t.apply(e._parent,f),(a=h.get(u))?a!==!0&&(e[s]=a,a.__data__=i[s]):n[s]=new m(e._parent,i[s]),h.set(u,!0);for(s=0;c>s;++s)(a=h.get(p[s]))!==!0&&(r[s]=a)}if(!e){var s=new Array(this.size()),a=-1;return this.each(function(e){s[++a]=e}),s}var u=this._depth-1,o=new Array(2*u),l=t?i:r;return"function"!=typeof e&&(e=p(e)),n(this._root,this.enter()._root,this.exit()._root,u),this},V=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var Z=document.documentElement;if(!Z.matches){var J=Z.webkitMatchesSelector||Z.msMatchesSelector||Z.mozMatchesSelector||Z.oMatchesSelector;V=function(e){return function(){return J.call(this,e)}}}}var Q=function(t){function n(e,r){var s,a,u=-1,o=e.length;if(--r){var l=2*r,c=l+1;for(a=new Array(o);++u<o;)(s=e[u])&&(i[l]=s._parent.__data__,i[c]=u,a[u]=n(s,r))}else for(a=[];++u<o;)(s=e[u])&&(i[0]=s.__data__,i[1]=u,t.apply(s,i)&&a.push(s));return a._parent=e._parent,a}var r=this._depth,i=new Array(2*r);return"function"!=typeof t&&(t=V(t)),new e(n(this._root,r),r)},ee=function(t){function n(e,r){var s,a,u=-1,o=e.length,l=new Array(o);if(--r)for(var c=2*r,h=c+1;++u<o;)(s=e[u])&&(i[c]=s._parent.__data__,i[h]=u,l[u]=n(s,r));else for(;++u<o;)(s=e[u])&&(i[0]=s.__data__,i[1]=u,l[u]=a=t.apply(s,i),a._parent=s);return l._parent=e._parent,l}var r=this._depth,i=new Array(2*r);return"function"!=typeof t&&(t=d(t)),new e(n(this._root,r),r+1)},te=function(t){function n(e,r,s){var a,u,o=-1,l=e.length,c=new Array(l);if(--s)for(var h=2*s,f=h+1;++o<l;)(a=e[o])&&(i[h]=a._parent.__data__,i[f]=o,c[o]=n(a,r&&r[o],s));else for(;++o<l;)(a=e[o])&&(i[0]=a.__data__,i[1]=o,(u=t.apply(a,i))&&("__data__"in a&&(u.__data__=a.__data__),r&&(r[o]=u,delete e[o]),c[o]=u));return c._parent=e._parent,c}var r=this._depth,i=new Array(2*r);return"function"!=typeof t&&(t=E(t)),new e(n(this._root,this._update&&this._update._root,r),r)};e.prototype=b.prototype={select:te,selectAll:ee,filter:Q,data:Y,enter:G,exit:X,order:U,sort:W,call:H,nodes:z,node:B,size:I,empty:R,each:q,attr:D,style:j,property:O,"class":T,classed:T,text:A,html:L,append:N,insert:N,remove:M,datum:$,event:S,on:S,dispatch:y};var ne=function(t){return new e(["string"==typeof t?document.querySelector(t):t],1)},re=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>v){var i=g(e);if(i.scrollX||i.scrollY){n=ne(i.document.body).append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var s=n.node().getScreenCTM();v=!(s.f||s.e),n.remove()}}return v?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]},ie=function(){for(var e,t=w;e=t.sourceEvent;)t=e;return t},se=function(e,t){arguments.length<2&&(t=ie().touches);for(var n=0,r=t?t.length:0,i=new Array(r);r>n;++n)i[n]=re(e,t[n]);return i},ae=function(e,t,n){arguments.length<3&&(n=t,t=ie().changedTouches);for(var r,i=0,s=t?t.length:0;s>i;++i)if((r=t[i]).identifier===n)return re(e,r);return null},ue=function(t){return new e("string"==typeof t?document.querySelectorAll(t):t,1)},oe=function(e,t){return arguments.length<2&&(t=ie()),t.changedTouches&&(t=t.changedTouches[0]),re(e,t)},le={get event(){return w},mouse:oe,namespace:C,namespaces:P,requote:_,select:ne,selectAll:ue,selection:b,touch:ae,touches:se};return le})},{}]},{},[1])(1)});